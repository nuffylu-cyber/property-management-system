<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>物业管理系统 - 管理后台</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600&family=Plus+Jakarta+Sans:wght@500;600;700;800&display=swap" rel="stylesheet">

    <!-- Icons -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">

    <style>
        /* ============================================
           CSS 变量系统
        ============================================ */
        :root {
            /* 主色调 - 皇家蓝系列 */
            --primary-50: #EFF6FF;
            --primary-100: #DBEAFE;
            --primary-200: #BFDBFE;
            --primary-300: #93C5FD;
            --primary-400: #60A5FA;
            --primary-500: #3B82F6;
            --primary-600: #0F4C81;
            --primary-700: #1E3A8A;
            --primary-800: #1E40AF;
            --primary-900: #1E3A8A;

            /* 强调色 - 电珊瑚红 */
            --accent-50: #FEF2F2;
            --accent-100: #FEE2E2;
            --accent-500: #FF6B6B;
            --accent-600: #EF4444;
            --accent-700: #DC2626;

            /* 中性色 */
            --gray-50: #F8FAFC;
            --gray-100: #F1F5F9;
            --gray-200: #E2E8F0;
            --gray-300: #CBD5E1;
            --gray-400: #94A3B8;
            --gray-500: #64748B;
            --gray-600: #475569;
            --gray-700: #334155;
            --gray-800: #1E293B;
            --gray-900: #0F172A;

            /* 语义色 */
            --success: #10B981;
            --success-light: #D1FAE5;
            --warning: #F59E0B;
            --warning-light: #FEF3C7;
            --error: #EF4444;
            --error-light: #FEE2E2;
            --info: #3B82F6;
            --info-light: #DBEAFE;

            /* 字体 */
            --font-heading: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-body: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, sans-serif;

            /* 间距 */
            --space-xs: 4px;
            --space-sm: 8px;
            --space-md: 16px;
            --space-lg: 24px;
            --space-xl: 32px;
            --space-2xl: 48px;

            /* 圆角 */
            --radius-sm: 6px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;

            /* 阴影 */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);

            /* 布局 */
            --sidebar-width: 240px;
            --header-height: 64px;
        }

        /* ============================================
           全局重置
        ============================================ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            font-size: 14px;
            line-height: 1.6;
            color: var(--gray-700);
            background: var(--gray-50);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* ============================================
           布局结构
        ============================================ */
        .app-container {
            display: flex;
            min-height: 100vh;
        }

        /* 侧边栏 */
        .sidebar {
            position: fixed;
            left: 0;
            top: 0;
            bottom: 0;
            width: var(--sidebar-width);
            background: var(--gray-900);
            color: var(--gray-300);
            display: flex;
            flex-direction: column;
            z-index: 1000;
            transition: transform 0.3s ease;
        }

        .sidebar-header {
            height: var(--header-height);
            display: flex;
            align-items: center;
            padding: 0 var(--space-lg);
            border-bottom: 1px solid var(--gray-800);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            font-family: var(--font-heading);
            font-size: 18px;
            font-weight: 700;
            color: #fff;
            text-decoration: none;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--primary-500) 0%, var(--primary-600) 100%);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .sidebar-nav {
            flex: 1;
            padding: var(--space-lg) var(--space-md);
            overflow-y: auto;
        }

        .nav-section {
            margin-bottom: var(--space-xl);
        }

        .nav-section-title {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--gray-500);
            padding: 0 var(--space-sm);
            margin-bottom: var(--space-sm);
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-sm);
            margin-bottom: var(--space-xs);
            border-radius: var(--radius-md);
            color: var(--gray-400);
            text-decoration: none;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .nav-item:hover {
            background: var(--gray-800);
            color: var(--gray-200);
        }

        .nav-item.active {
            background: var(--primary-600);
            color: #fff;
        }

        .nav-item i {
            font-size: 18px;
        }

        .nav-item span {
            font-size: 13px;
            font-weight: 500;
        }

        .nav-badge {
            margin-left: auto;
            background: var(--accent-500);
            color: #fff;
            font-size: 11px;
            font-weight: 600;
            padding: 2px 6px;
            border-radius: 10px;
        }

        .sidebar-footer {
            padding: var(--space-lg);
            border-top: 1px solid var(--gray-800);
        }

        .user-card {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--primary-500);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-weight: 600;
            font-size: 14px;
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            font-size: 13px;
            font-weight: 500;
            color: var(--gray-200);
        }

        .user-role {
            font-size: 11px;
            color: var(--gray-500);
        }

        /* 主内容区 */
        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            display: flex;
            flex-direction: column;
        }

        /* 顶部栏 */
        .header {
            position: fixed;
            top: 0;
            right: 0;
            left: var(--sidebar-width);
            height: var(--header-height);
            background: #fff;
            border-bottom: 1px solid var(--gray-200);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 var(--space-xl);
            z-index: 900;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: var(--space-lg);
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            font-size: 13px;
            color: var(--gray-500);
        }

        .breadcrumb-item {
            color: var(--gray-500);
            text-decoration: none;
        }

        .breadcrumb-item.active {
            color: var(--gray-700);
            font-weight: 500;
        }

        .breadcrumb-separator {
            color: var(--gray-400);
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }

        .search-box {
            position: relative;
        }

        .search-box input {
            width: 240px;
            padding: var(--space-sm) var(--space-sm) var(--space-sm) var(--space-xl);
            border: 1px solid var(--gray-300);
            border-radius: var(--radius-md);
            font-size: 13px;
            transition: all 0.2s ease;
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary-500);
            box-shadow: 0 0 0 3px var(--primary-100);
        }

        .search-box i {
            position: absolute;
            left: var(--space-sm);
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-400);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }

        .icon-btn {
            width: 36px;
            height: 36px;
            border: none;
            background: transparent;
            border-radius: var(--radius-md);
            color: var(--gray-500);
            font-size: 18px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .icon-btn:hover {
            background: var(--gray-100);
            color: var(--gray-700);
        }

        .notification-badge {
            position: absolute;
            top: 6px;
            right: 6px;
            width: 8px;
            height: 8px;
            background: var(--accent-500);
            border-radius: 50%;
            border: 2px solid #fff;
        }

        /* 内容区域 */
        .content {
            margin-top: var(--header-height);
            padding: var(--space-xl);
            min-height: calc(100vh - var(--header-height));
        }

        /* ============================================
           通用组件
        ============================================ */
        .page-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--space-xl);
        }

        .page-title {
            font-family: var(--font-heading);
            font-size: 28px;
            font-weight: 700;
            color: var(--gray-900);
        }

        .page-subtitle {
            font-size: 14px;
            color: var(--gray-500);
            margin-top: var(--space-xs);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-lg);
            border: none;
            border-radius: var(--radius-md);
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
        }

        .btn-primary {
            background: var(--primary-600);
            color: #fff;
        }

        .btn-primary:hover {
            background: var(--primary-700);
            box-shadow: var(--shadow-md);
        }

        .btn-secondary {
            background: #fff;
            color: var(--gray-700);
            border: 1px solid var(--gray-300);
        }

        .btn-secondary:hover {
            background: var(--gray-50);
        }

        /* ============================================
           动画
        ============================================ */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-in {
            animation: fadeIn 0.4s ease forwards;
        }

        /* 滚动条美化 */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: var(--gray-100);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gray-300);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--gray-400);
        }

        /* ============================================
           仪表盘组件
        ============================================ */
        .stat-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--space-lg);
            margin-bottom: var(--space-xl);
        }

        .stat-card {
            background: #fff;
            border-radius: var(--radius-lg);
            padding: var(--space-lg);
            box-shadow: var(--shadow-sm);
            transition: all 0.3s ease;
            animation: fadeIn 0.5s ease forwards;
        }

        .stat-card:nth-child(1) { animation-delay: 0.1s; }
        .stat-card:nth-child(2) { animation-delay: 0.2s; }
        .stat-card:nth-child(3) { animation-delay: 0.3s; }
        .stat-card:nth-child(4) { animation-delay: 0.4s; }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .stat-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: var(--space-md);
        }

        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .stat-icon.blue {
            background: var(--primary-50);
            color: var(--primary-600);
        }

        .stat-icon.green {
            background: var(--success-light);
            color: var(--success);
        }

        .stat-icon.orange {
            background: var(--warning-light);
            color: var(--warning);
        }

        .stat-icon.red {
            background: var(--error-light);
            color: var(--error);
        }

        .stat-trend {
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            font-weight: 500;
            padding: 4px 8px;
            border-radius: var(--radius-sm);
        }

        .stat-trend.up {
            background: var(--success-light);
            color: var(--success);
        }

        .stat-trend.down {
            background: var(--error-light);
            color: var(--error);
        }

        .stat-value {
            font-family: var(--font-heading);
            font-size: 32px;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: var(--space-xs);
        }

        .stat-label {
            font-size: 13px;
            color: var(--gray-500);
        }

        .stat-footer {
            margin-top: var(--space-md);
            padding-top: var(--space-md);
            border-top: 1px solid var(--gray-100);
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 12px;
            color: var(--gray-500);
        }

        .stat-link {
            color: var(--primary-600);
            text-decoration: none;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .stat-link:hover {
            text-decoration: underline;
        }

        /* 双列布局 */
        .content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: var(--space-lg);
        }

        .card {
            background: #fff;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            overflow: hidden;
        }

        .card-header {
            padding: var(--space-lg);
            border-bottom: 1px solid var(--gray-100);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .card-title {
            font-family: var(--font-heading);
            font-size: 16px;
            font-weight: 600;
            color: var(--gray-900);
        }

        .card-actions {
            display: flex;
            gap: var(--space-sm);
        }

        .card-body {
            padding: var(--space-lg);
        }

        /* 列表项样式 */
        .list-item {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            padding: var(--space-md) 0;
            border-bottom: 1px solid var(--gray-100);
        }

        .list-item:last-child {
            border-bottom: none;
        }

        .list-item-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            background: var(--gray-100);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            color: var(--gray-500);
            flex-shrink: 0;
        }

        .list-item-content {
            flex: 1;
            min-width: 0;
        }

        .list-item-title {
            font-size: 14px;
            font-weight: 500;
            color: var(--gray-900);
            margin-bottom: 2px;
        }

        .list-item-desc {
            font-size: 12px;
            color: var(--gray-500);
        }

        .list-item-meta {
            text-align: right;
            flex-shrink: 0;
        }

        .list-item-time {
            font-size: 12px;
            color: var(--gray-400);
            margin-bottom: 4px;
        }

        /* 状态徽章 */
        .badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            padding: 4px 10px;
            border-radius: var(--radius-sm);
            font-size: 12px;
            font-weight: 500;
        }

        .badge-success {
            background: var(--success-light);
            color: var(--success);
        }

        .badge-warning {
            background: var(--warning-light);
            color: var(--warning);
        }

        .badge-error {
            background: var(--error-light);
            color: var(--error);
        }

        .badge-info {
            background: var(--info-light);
            color: var(--info);
        }

        .badge-primary {
            background: var(--primary-100);
            color: var(--primary-700);
        }

        .badge-accent {
            background: var(--accent-100);
            color: var(--accent-700);
        }

        .badge-secondary {
            background: var(--gray-200);
            color: var(--gray-600);
        }

        /* 快捷操作网格 */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-md);
            margin-bottom: var(--space-lg);
        }

        .quick-action-card {
            background: #fff;
            border: 1px solid var(--gray-200);
            border-radius: var(--radius-md);
            padding: var(--space-lg);
            text-decoration: none;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .quick-action-card:hover {
            border-color: var(--primary-500);
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .quick-action-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            background: var(--primary-50);
            color: var(--primary-600);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            margin-bottom: var(--space-sm);
        }

        .quick-action-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: 4px;
        }

        .quick-action-desc {
            font-size: 12px;
            color: var(--gray-500);
        }

        /* 进度条 */
        .progress-bar {
            height: 8px;
            background: var(--gray-200);
            border-radius: 4px;
            overflow: hidden;
            margin-top: var(--space-sm);
        }

        .progress-fill {
            height: 100%;
            background: var(--primary-500);
            border-radius: 4px;
            transition: width 0.6s ease;
        }

        .progress-fill.success {
            background: var(--success);
        }

        .progress-fill.warning {
            background: var(--warning);
        }

        /* ============================================
           数据表格组件
        ============================================ */
        .table-container {
            background: #fff;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            overflow: hidden;
        }

        .table-toolbar {
            padding: var(--space-lg);
            border-bottom: 1px solid var(--gray-100);
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: var(--space-md);
        }

        .table-filters {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            flex: 1;
        }

        .search-input {
            position: relative;
            width: 280px;
        }

        .search-input input {
            width: 100%;
            padding: var(--space-sm) var(--space-sm) var(--space-sm) var(--space-xl);
            border: 1px solid var(--gray-300);
            border-radius: var(--radius-md);
            font-size: 13px;
        }

        .search-input input:focus {
            outline: none;
            border-color: var(--primary-500);
            box-shadow: 0 0 0 3px var(--primary-100);
        }

        .search-input i {
            position: absolute;
            left: var(--space-sm);
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-400);
        }

        .filter-select {
            padding: var(--space-sm) var(--space-md);
            border: 1px solid var(--gray-300);
            border-radius: var(--radius-md);
            font-size: 13px;
            color: var(--gray-700);
            background: #fff;
            cursor: pointer;
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--primary-500);
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table thead {
            background: var(--gray-50);
        }

        .table th {
            padding: var(--space-md) var(--space-lg);
            text-align: left;
            font-size: 12px;
            font-weight: 600;
            color: var(--gray-500);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--gray-200);
        }

        .table td {
            padding: var(--space-md) var(--space-lg);
            border-bottom: 1px solid var(--gray-100);
            font-size: 13px;
            color: var(--gray-700);
        }

        .table tbody tr {
            transition: all 0.2s ease;
        }

        .table tbody tr:hover {
            background: var(--gray-50);
        }

        .table tbody tr:last-child td {
            border-bottom: none;
        }

        .table-actions {
            display: flex;
            gap: var(--space-sm);
        }

        .action-btn {
            padding: 6px 12px;
            border: none;
            background: transparent;
            border-radius: var(--radius-sm);
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .action-btn.edit {
            color: var(--primary-600);
            background: var(--primary-50);
        }

        .action-btn.edit:hover {
            background: var(--primary-100);
        }

        .action-btn.delete {
            color: var(--error);
            background: var(--error-light);
        }

        .action-btn.delete:hover {
            background: var(--error-light);
        }

        .table-pagination {
            padding: var(--space-md) var(--space-lg);
            border-top: 1px solid var(--gray-100);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .pagination-info {
            font-size: 13px;
            color: var(--gray-500);
        }

        .pagination-controls {
            display: flex;
            gap: var(--space-sm);
        }

        .page-btn {
            width: 32px;
            height: 32px;
            border: 1px solid var(--gray-300);
            background: #fff;
            border-radius: var(--radius-md);
            color: var(--gray-600);
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .page-btn:hover {
            background: var(--gray-50);
            border-color: var(--gray-400);
        }

        .page-btn.active {
            background: var(--primary-600);
            border-color: var(--primary-600);
            color: #fff;
        }

        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Tabs组件 */
        .tabs {
            display: flex;
            gap: var(--space-md);
            border-bottom: 1px solid var(--gray-200);
            margin-bottom: var(--space-lg);
        }

        .tab {
            padding: var(--space-sm) var(--space-md);
            border: none;
            background: transparent;
            border-bottom: 2px solid transparent;
            font-size: 14px;
            font-weight: 500;
            color: var(--gray-500);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .tab:hover {
            color: var(--gray-700);
        }

        .tab.active {
            color: var(--primary-600);
            border-bottom-color: var(--primary-600);
        }

        /* 标签 */
        .tag {
            display: inline-flex;
            align-items: center;
            padding: 4px 10px;
            border-radius: var(--radius-sm);
            font-size: 12px;
            font-weight: 500;
        }

        .tag-blue {
            background: var(--primary-50);
            color: var(--primary-600);
        }

        .tag-green {
            background: var(--success-light);
            color: var(--success);
        }

        .tag-gray {
            background: var(--gray-100);
            color: var(--gray-600);
        }

        /* 空状态 */
        .empty-state {
            text-align: center;
            padding: var(--space-2xl);
            color: var(--gray-400);
        }

        .empty-state i {
            font-size: 48px;
            margin-bottom: var(--space-md);
        }

        .empty-state p {
            font-size: 14px;
            margin-bottom: var(--space-lg);
        }
    </style>

    <!-- 引入CRUD功能模块 -->
    <script src="/static/js/community-crud.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- 侧边栏 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <a href="#" class="logo">
                    <div class="logo-icon">
                        <i class="ri-building-4-line"></i>
                    </div>
                    <span>智慧物业</span>
                </a>
            </div>

            <nav class="sidebar-nav">
                <!-- 主导航 -->
                <div class="nav-section">
                    <div class="nav-section-title">主菜单</div>
                    <a href="#dashboard" class="nav-item active" data-page="dashboard">
                        <i class="ri-dashboard-line"></i>
                        <span>数据概览</span>
                    </a>
                    <a href="#community" class="nav-item" data-page="community">
                        <i class="ri-community-line"></i>
                        <span>小区管理</span>
                    </a>
                    <a href="#property" class="nav-item" data-page="property">
                        <i class="ri-home-4-line"></i>
                        <span>房产管理</span>
                    </a>
                </div>

                <!-- 业务管理 -->
                <div class="nav-section">
                    <div class="nav-section-title">业务管理</div>
                    <a href="#payment" class="nav-item" data-page="payment">
                        <i class="ri-payment-line"></i>
                        <span>缴费管理</span>
                    </a>
                    <a href="#maintenance" class="nav-item" data-page="maintenance">
                        <i class="ri-tools-line"></i>
                        <span>报事管理</span>
                        <span class="nav-badge">12</span>
                    </a>
                    <a href="#wechat" class="nav-item" data-page="wechat">
                        <i class="ri-wechat-line"></i>
                        <span>微信管理</span>
                    </a>
                </div>

                <!-- 系统管理 -->
                <div class="nav-section">
                    <div class="nav-section-title">系统管理</div>
                    <a href="#payment-management" class="nav-item" data-page="payment-management">
                        <i class="ri-wechat-pay-line"></i>
                        <span>支付管理</span>
                    </a>
                    <a href="#account-management" class="nav-item" data-page="account-management">
                        <i class="ri-admin-line"></i>
                        <span>账户管理</span>
                    </a>
                    <a href="#users" class="nav-item" data-page="users">
                        <i class="ri-user-settings-line"></i>
                        <span>用户管理</span>
                    </a>
                    <a href="#settings" class="nav-item" data-page="settings">
                        <i class="ri-settings-3-line"></i>
                        <span>系统设置</span>
                    </a>
                    <a href="#logs" class="nav-item" data-page="logs">
                        <i class="ri-file-list-3-line"></i>
                        <span>操作日志</span>
                    </a>
                </div>
            </nav>

            <div class="sidebar-footer">
                <div class="user-card">
                    <div class="user-avatar">李</div>
                    <div class="user-info">
                        <div class="user-name">李明</div>
                        <div class="user-role">超级管理员</div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- 主内容区 -->
        <main class="main-content">
            <!-- 顶部栏 -->
            <header class="header">
                <div class="header-left">
                    <div class="breadcrumb">
                        <span class="breadcrumb-item">首页</span>
                        <span class="breadcrumb-separator"><i class="ri-arrow-right-s-line"></i></span>
                        <span class="breadcrumb-item active">数据概览</span>
                    </div>
                </div>

                <div class="header-right">
                    <div class="search-box">
                        <i class="ri-search-line"></i>
                        <input type="text" placeholder="搜索房产、业主、账单...">
                    </div>

                    <div class="header-actions">
                        <button class="icon-btn">
                            <i class="ri-notification-3-line"></i>
                            <span class="notification-badge"></span>
                        </button>
                        <button class="icon-btn">
                            <i class="ri-question-line"></i>
                        </button>
                        <button class="icon-btn" onclick="alert('退出登录功能待实现')">
                            <i class="ri-logout-box-r-line"></i>
                        </button>
                    </div>
                </div>
            </header>

            <!-- 内容区域 -->
            <div class="content" id="main-content">
                <!-- 内容将通过JavaScript动态加载 -->
            </div>
        </main>
    </div>

    <script>
        // ============================================
        // 页面路由管理
        // ============================================
        const pages = {
            dashboard: `
                <div class="page-header animate-in">
                    <div>
                        <h1 class="page-title">数据概览</h1>
                        <p class="page-subtitle">实时掌握物业运营核心指标</p>
                    </div>
                    <div style="display: flex; gap: 12px;">
                        <button class="btn btn-secondary">
                            <i class="ri-download-line"></i>
                            导出报表
                        </button>
                        <button class="btn btn-primary">
                            <i class="ri-refresh-line"></i>
                            刷新数据
                        </button>
                    </div>
                </div>

                <!-- 统计卡片 -->
                <div class="stat-grid">
                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon blue">
                                <i class="ri-building-4-line"></i>
                            </div>
                            <span class="stat-trend up">
                                <i class="ri-arrow-up-line"></i>
                                2.5%
                            </span>
                        </div>
                        <div class="stat-value">1,225</div>
                        <div class="stat-label">总户数</div>
                        <div class="stat-footer">
                            <span>覆盖2个小区</span>
                            <a href="#community" class="stat-link">
                                查看详情
                                <i class="ri-arrow-right-line"></i>
                            </a>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon green">
                                <i class="ri-money-dollar-circle-line"></i>
                            </div>
                            <span class="stat-trend up">
                                <i class="ri-arrow-up-line"></i>
                                12.3%
                            </span>
                        </div>
                        <div class="stat-value">¥286,540</div>
                        <div class="stat-label">本月实收</div>
                        <div class="stat-footer">
                            <span>收缴率 78.5%</span>
                            <a href="#payment" class="stat-link">
                                查看账单
                                <i class="ri-arrow-right-line"></i>
                            </a>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon orange">
                                <i class="ri-tools-line"></i>
                            </div>
                            <span class="stat-trend down">
                                <i class="ri-arrow-down-line"></i>
                                8.2%
                            </span>
                        </div>
                        <div class="stat-value">12</div>
                        <div class="stat-label">待处理报事</div>
                        <div class="stat-footer">
                            <span>3个紧急</span>
                            <a href="#maintenance" class="stat-link">
                                立即处理
                                <i class="ri-arrow-right-line"></i>
                            </a>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <div class="stat-icon red">
                                <i class="ri-time-line"></i>
                            </div>
                            <span class="stat-trend down">
                                <i class="ri-arrow-down-line"></i>
                                5.1%
                            </span>
                        </div>
                        <div class="stat-value">¥78,920</div>
                        <div class="stat-label">逾期未缴</div>
                        <div class="stat-footer">
                            <span>23户业主</span>
                            <a href="#payment" class="stat-link">
                                催缴提醒
                                <i class="ri-arrow-right-line"></i>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- 双列内容布局 -->
                <div class="content-grid">
                    <!-- 左侧：缴费收缴率 + 最近报事 -->
                    <div style="display: flex; flex-direction: column; gap: 24px;">
                        <!-- 缴费收缴率卡片 -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">本月缴费收缴情况</h3>
                                <div class="card-actions">
                                    <button class="icon-btn">
                                        <i class="ri-more-line"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="card-body">
                                <div style="margin-bottom: 24px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <span style="font-size: 13px; color: var(--gray-600);">银座小区</span>
                                        <span style="font-size: 13px; font-weight: 600; color: var(--gray-900);">82.3%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill success" style="width: 82.3%;"></div>
                                    </div>
                                </div>

                                <div style="margin-bottom: 24px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <span style="font-size: 13px; color: var(--gray-600);">锦尚名都</span>
                                        <span style="font-size: 13px; font-weight: 600; color: var(--gray-900);">74.7%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill warning" style="width: 74.7%;"></div>
                                    </div>
                                </div>

                                <div>
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <span style="font-size: 13px; color: var(--gray-600);">总体收缴率</span>
                                        <span style="font-size: 15px; font-weight: 700; color: var(--primary-600);">78.5%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 78.5%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 最近报事列表 -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">最近报事</h3>
                                <a href="#maintenance" style="font-size: 13px; color: var(--primary-600); text-decoration: none; font-weight: 500;">
                                    查看全部
                                </a>
                            </div>
                            <div class="card-body" style="padding: 0 24px;">
                                <div class="list-item">
                                    <div class="list-item-icon">
                                        <i class="ri-drop-line"></i>
                                    </div>
                                    <div class="list-item-content">
                                        <div class="list-item-title">卫生间漏水严重</div>
                                        <div class="list-item-desc">银座小区 3号楼 1202室</div>
                                    </div>
                                    <div class="list-item-meta">
                                        <div class="list-item-time">10分钟前</div>
                                        <span class="badge badge-error">紧急</span>
                                    </div>
                                </div>

                                <div class="list-item">
                                    <div class="list-item-icon">
                                        <i class="ri-lightbulb-line"></i>
                                    </div>
                                    <div class="list-item-content">
                                        <div class="list-item-title">楼道灯不亮</div>
                                        <div class="list-item-desc">锦尚名都 5号楼 楼道</div>
                                    </div>
                                    <div class="list-item-meta">
                                        <div class="list-item-time">35分钟前</div>
                                        <span class="badge badge-warning">一般</span>
                                    </div>
                                </div>

                                <div class="list-item">
                                    <div class="list-item-icon">
                                        <i class="ri-door-closed-line"></i>
                                    </div>
                                    <div class="list-item-content">
                                        <div class="list-item-title">单元门门锁故障</div>
                                        <div class="list-item-desc">银座小区 1号楼 单元门</div>
                                    </div>
                                    <div class="list-item-meta">
                                        <div class="list-item-time">1小时前</div>
                                        <span class="badge badge-warning">一般</span>
                                    </div>
                                </div>

                                <div class="list-item">
                                    <div class="list-item-icon">
                                        <i class="ri-plant-line"></i>
                                    </div>
                                    <div class="list-item-content">
                                        <div class="list-item-title">绿化带需要修剪</div>
                                        <div class="list-item-desc">锦尚名都 小区花园</div>
                                    </div>
                                    <div class="list-item-meta">
                                        <div class="list-item-time">2小时前</div>
                                        <span class="badge badge-info">建议</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 右侧：快捷操作 + 待办事项 -->
                    <div>
                        <!-- 快捷操作 -->
                        <div style="margin-bottom: 24px;">
                            <h3 style="font-size: 14px; font-weight: 600; color: var(--gray-900); margin-bottom: 16px;">快捷操作</h3>
                            <div class="quick-actions">
                                <div class="quick-action-card" onclick="alert('跳转到生成账单页面')">
                                    <div class="quick-action-icon">
                                        <i class="ri-file-list-3-line"></i>
                                    </div>
                                    <div class="quick-action-title">生成账单</div>
                                    <div class="quick-action-desc">批量创建月度账单</div>
                                </div>

                                <div class="quick-action-card" onclick="alert('跳转到新增业主页面')">
                                    <div class="quick-action-icon">
                                        <i class="ri-user-add-line"></i>
                                    </div>
                                    <div class="quick-action-title">新增业主</div>
                                    <div class="quick-action-desc">录入业主信息</div>
                                </div>

                                <div class="quick-action-card" onclick="alert('跳转到报事处理页面')">
                                    <div class="quick-action-icon">
                                        <i class="ri-hammer-line"></i>
                                    </div>
                                    <div class="quick-action-title">报事派单</div>
                                    <div class="quick-action-desc">分配维修任务</div>
                                </div>

                                <div class="quick-action-card" onclick="alert('跳转到消息发送页面')">
                                    <div class="quick-action-icon">
                                        <i class="ri-message-3-line"></i>
                                    </div>
                                    <div class="quick-action-title">发送通知</div>
                                    <div class="quick-action-desc">推送公众号消息</div>
                                </div>
                            </div>
                        </div>

                        <!-- 待办事项 -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">待办事项</h3>
                                <span class="badge badge-warning">8项待处理</span>
                            </div>
                            <div class="card-body" style="padding: 0 24px;">
                                <div class="list-item">
                                    <div class="list-item-icon">
                                        <i class="ri-calendar-check-line"></i>
                                    </div>
                                    <div class="list-item-content">
                                        <div class="list-item-title">核对本月账单</div>
                                        <div class="list-item-desc">财务审核</div>
                                    </div>
                                    <div class="list-item-meta">
                                        <div class="list-item-time">今天</div>
                                    </div>
                                </div>

                                <div class="list-item">
                                    <div class="list-item-icon">
                                        <i class="ri-phone-line"></i>
                                    </div>
                                    <div class="list-item-content">
                                        <div class="list-item-title">联系未缴费业主</div>
                                        <div class="list-item-desc">23户待催缴</div>
                                    </div>
                                    <div class="list-item-meta">
                                        <div class="list-item-time">今天</div>
                                    </div>
                                </div>

                                <div class="list-item">
                                    <div class="list-item-icon">
                                        <i class="ri-building-line"></i>
                                    </div>
                                    <div class="list-item-content">
                                        <div class="list-item-title">设施设备巡检</div>
                                        <div class="list-item-desc">周度例行检查</div>
                                    </div>
                                    <div class="list-item-meta">
                                        <div class="list-item-time">明天</div>
                                    </div>
                                </div>

                                <div class="list-item">
                                    <div class="list-item-icon">
                                        <i class="ri-team-line"></i>
                                    </div>
                                    <div class="list-item-content">
                                        <div class="list-item-title">业主满意度调查</div>
                                        <div class="list-item-desc">季度工作总结</div>
                                    </div>
                                    <div class="list-item-meta">
                                        <div class="list-item-time">本周</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `,

            community: `
                <div class="page-header animate-in">
                    <div>
                        <h1 class="page-title">小区管理</h1>
                        <p class="page-subtitle">管理小区信息和楼栋数据</p>
                    </div>
                    <button class="btn btn-primary" onclick="CommunityCRUD.addCommunity()">
                        <i class="ri-add-line"></i>
                        新增小区
                    </button>
                </div>

                <!-- Tab切换 -->
                <div class="tabs">
                    <button class="tab active" onclick="switchTab(this, 'communities')">
                        <i class="ri-community-line"></i>
                        小区列表
                    </button>
                    <button class="tab" onclick="switchTab(this, 'buildings')">
                        <i class="ri-building-2-line"></i>
                        楼栋管理
                    </button>
                </div>

                <!-- 小区列表Tab -->
                <div id="tab-communities" class="tab-content">
                    <div class="table-container">
                        <div class="table-toolbar">
                            <div class="table-filters">
                                <div class="search-input">
                                    <i class="ri-search-line"></i>
                                    <input type="text" placeholder="搜索小区名称、地址...">
                                </div>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn btn-secondary">
                                    <i class="ri-filter-3-line"></i>
                                    筛选
                                </button>
                                <button class="btn btn-secondary">
                                    <i class="ri-download-line"></i>
                                    导出
                                </button>
                            </div>
                        </div>

                        <table class="table">
                            <thead>
                                <tr>
                                    <th>小区名称</th>
                                    <th>地址</th>
                                    <th>总户数</th>
                                    <th>楼栋数</th>
                                    <th>开发商</th>
                                    <th>物业公司</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div style="font-weight: 500; color: var(--gray-900);">银座小区</div>
                                    </td>
                                    <td>北京市朝阳区建国路88号</td>
                                    <td>413</td>
                                    <td>8</td>
                                    <td>银座地产</td>
                                    <td>银座物业</td>
                                    <td><span class="tag tag-green">运营中</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                                                <tr>
                                    <td>
                                        <div style="font-weight: 500; color: var(--gray-900);">锦尚名都</div>
                                    </td>
                                    <td>北京市海淀区中关村大街66号</td>
                                    <td>812</td>
                                    <td>15</td>
                                    <td>锦尚置业</td>
                                    <td>锦尚物业</td>
                                    <td><span class="tag tag-green">运营中</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                                                <tr>
                                    <td>
                                        <div style="font-weight: 500; color: var(--gray-900);">阳光花园</div>
                                    </td>
                                    <td>北京市丰台区南三环西路12号</td>
                                    <td>256</td>
                                    <td>6</td>
                                    <td>阳光地产</td>
                                    <td>阳光物业</td>
                                    <td><span class="tag tag-gray">筹备中</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="table-pagination">
                            <div class="pagination-info">
                                显示 1-3 条，共 3 条记录
                            </div>
                            <div class="pagination-controls">
                                <button class="page-btn" disabled>
                                    <i class="ri-arrow-left-s-line"></i>
                                </button>
                                <button class="page-btn active">1</button>
                                <button class="page-btn" disabled>
                                    <i class="ri-arrow-right-s-line"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 楼栋管理Tab -->
                <div id="tab-buildings" class="tab-content" style="display: none;">
                    <div class="table-container">
                        <div class="table-toolbar">
                            <div class="table-filters">
                                <div class="search-input">
                                    <i class="ri-search-line"></i>
                                    <input type="text" placeholder="搜索楼栋号、小区...">
                                </div>
                                <select class="filter-select">
                                    <option>所有小区</option>
                                    <option>银座小区</option>
                                    <option>锦尚名都</option>
                                </select>
                                <select class="filter-select">
                                    <option>所有类型</option>
                                    <option>高层</option>
                                    <option>多层</option>
                                    <option>别墅</option>
                                    <option>商业</option>
                                </select>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn btn-primary" onclick="CommunityCRUD.addBuilding()">
                                    <i class="ri-add-line"></i>
                                    新增楼栋
                                </button>
                            </div>
                        </div>

                        <table class="table">
                            <thead>
                                <tr>
                                    <th>楼栋号</th>
                                    <th>所属小区</th>
                                    <th>楼栋类型</th>
                                    <th>总楼层</th>
                                    <th>单元数</th>
                                    <th>户数</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span style="font-weight: 600;">1号楼</span></td>
                                    <td>银座小区</td>
                                    <td><span class="tag tag-blue">高层</span></td>
                                    <td>18</td>
                                    <td>3</td>
                                    <td>54</td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                <tr>
                                    <td><span style="font-weight: 600;">2号楼</span></td>
                                    <td>银座小区</td>
                                    <td><span class="tag tag-blue">高层</span></td>
                                    <td>24</td>
                                    <td>4</td>
                                    <td>72</td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                                                <tr>
                                    <td><span style="font-weight: 600;">5号楼</span></td>
                                    <td>锦尚名都</td>
                                    <td><span class="tag tag-green">多层</span></td>
                                    <td>6</td>
                                    <td>2</td>
                                    <td>24</td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="table-pagination">
                            <div class="pagination-info">
                                显示 1-3 条，共 23 条记录
                            </div>
                            <div class="pagination-controls">
                                <button class="page-btn" disabled>
                                    <i class="ri-arrow-left-s-line"></i>
                                </button>
                                <button class="page-btn active">1</button>
                                <button class="page-btn">2</button>
                                <button class="page-btn">3</button>
                                <button class="page-btn">
                                    <i class="ri-arrow-right-s-line"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `,

            property: `
                <div class="page-header animate-in">
                    <div>
                        <h1 class="page-title">房产管理</h1>
                        <p class="page-subtitle">管理房产、业主和租户信息</p>
                    </div>
                    <button class="btn btn-primary" onclick="alert('打开新增房产对话框')">
                        <i class="ri-add-line"></i>
                        新增房产
                    </button>
                </div>

                <!-- Tab切换 -->
                <div class="tabs">
                    <button class="tab active" onclick="switchTab(this, 'properties')">
                        <i class="ri-home-4-line"></i>
                        房产列表
                    </button>
                    <button class="tab" onclick="switchTab(this, 'owners')">
                        <i class="ri-user-star-line"></i>
                        业主管理
                    </button>
                    <button class="tab" onclick="switchTab(this, 'tenants')">
                        <i class="ri-user-follow-line"></i>
                        租户管理
                    </button>
                </div>

                <!-- 房产列表Tab -->
                <div id="tab-properties" class="tab-content">
                    <div class="table-container">
                        <div class="table-toolbar">
                            <div class="table-filters">
                                <div class="search-input">
                                    <i class="ri-search-line"></i>
                                    <input type="text" placeholder="搜索房号、业主姓名...">
                                </div>
                                <select class="filter-select">
                                    <option>所有小区</option>
                                    <option>银座小区</option>
                                    <option>锦尚名都</option>
                                </select>
                                <select class="filter-select">
                                    <option>房产类型</option>
                                    <option>住宅</option>
                                    <option>商业</option>
                                    <option>车库</option>
                                    <option>储藏室</option>
                                </select>
                                <select class="filter-select">
                                    <option>房产状态</option>
                                    <option>自住</option>
                                    <option>出租</option>
                                    <option>空置</option>
                                    <option>装修中</option>
                                </select>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn btn-secondary">
                                    <i class="ri-filter-3-line"></i>
                                    筛选
                                </button>
                                <button class="btn btn-secondary">
                                    <i class="ri-download-line"></i>
                                    导出
                                </button>
                            </div>
                        </div>

                        <table class="table">
                            <thead>
                                <tr>
                                    <th>房号</th>
                                    <th>所属小区</th>
                                    <th>面积(㎡)</th>
                                    <th>类型</th>
                                    <th>业主</th>
                                    <th>联系电话</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div style="font-weight: 600;">1号楼-1202</div>
                                        <div style="font-size: 12px; color: var(--gray-400);">18层/3单元</div>
                                    </td>
                                    <td>银座小区</td>
                                    <td>128.5</td>
                                    <td><span class="tag tag-blue">住宅</span></td>
                                    <td>张明华</td>
                                    <td>138****1234</td>
                                    <td><span class="tag tag-green">自住</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <div style="font-weight: 600;">2号楼-801</div>
                                        <div style="font-size: 12px; color: var(--gray-400);">8层/1单元</div>
                                    </td>
                                    <td>银座小区</td>
                                    <td>98.2</td>
                                    <td><span class="tag tag-blue">住宅</span></td>
                                    <td>李娜</td>
                                    <td>139****5678</td>
                                    <td><span class="tag tag-blue">出租</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <div style="font-weight: 600;">5号楼-302</div>
                                        <div style="font-size: 12px; color: var(--gray-400);">3层/2单元</div>
                                    </td>
                                    <td>锦尚名都</td>
                                    <td>156.8</td>
                                    <td><span class="tag tag-blue">住宅</span></td>
                                    <td>王建国</td>
                                    <td>136****9012</td>
                                    <td><span class="tag tag-gray">空置</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                                                <tr>
                                    <td>
                                        <div style="font-weight: 600;">1号楼-B105</div>
                                        <div style="font-size: 12px; color: var(--gray-400);">地下1层</div>
                                    </td>
                                    <td>锦尚名都</td>
                                    <td>25.0</td>
                                    <td><span class="tag tag-gray">车库</span></td>
                                    <td>赵强</td>
                                    <td>137****3456</td>
                                    <td><span class="tag tag-green">自用</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="table-pagination">
                            <div class="pagination-info">
                                显示 1-4 条，共 1,225 条记录
                            </div>
                            <div class="pagination-controls">
                                <button class="page-btn" disabled>
                                    <i class="ri-arrow-left-s-line"></i>
                                </button>
                                <button class="page-btn active">1</button>
                                <button class="page-btn">2</button>
                                <button class="page-btn">3</button>
                                <button class="page-btn">
                                    <i class="ri-arrow-right-s-line"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 业主管理Tab -->
                <div id="tab-owners" class="tab-content" style="display: none;">
                    <div class="table-container">
                        <div class="table-toolbar">
                            <div class="table-filters">
                                <div class="search-input">
                                    <i class="ri-search-line"></i>
                                    <input type="text" placeholder="搜索业主姓名、手机号...">
                                </div>
                                <select class="filter-select">
                                    <option>所有小区</option>
                                    <option>银座小区</option>
                                    <option>锦尚名都</option>
                                </select>
                                <select class="filter-select">
                                    <option>认证状态</option>
                                    <option>已认证</option>
                                    <option>未认证</option>
                                </select>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn btn-primary" onclick="alert('打开新增业主对话框')">
                                    <i class="ri-add-line"></i>
                                    新增业主
                                </button>
                            </div>
                        </div>

                        <table class="table">
                            <thead>
                                <tr>
                                    <th>业主姓名</th>
                                    <th>联系电话</th>
                                    <th>身份证号</th>
                                    <th>拥有房产</th>
                                    <th>微信绑定</th>
                                    <th>认证状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 32px; height: 32px; border-radius: 50%; background: var(--primary-500); color: #fff; display: flex; align-items: center; justify-content: center; font-size: 13px; font-weight: 600;">张</div>
                                            <span style="font-weight: 500;">张明华</span>
                                        </div>
                                    </td>
                                    <td>138****1234</td>
                                    <td>110***********1234</td>
                                    <td><span class="badge badge-info">2套</span></td>
                                    <td><span class="tag tag-green">已绑定</span></td>
                                    <td><span class="badge badge-success">已认证</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn">
                                                <i class="ri-home-line"></i>
                                                房产
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                                                <tr>
                                    <td>
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 32px; height: 32px; border-radius: 50%; background: var(--warning); color: #fff; display: flex; align-items: center; justify-content: center; font-size: 13px; font-weight: 600;">李</div>
                                            <span style="font-weight: 500;">李娜</span>
                                        </div>
                                    </td>
                                    <td>139****5678</td>
                                    <td>110***********5678</td>
                                    <td><span class="badge badge-info">1套</span></td>
                                    <td><span class="tag tag-gray">未绑定</span></td>
                                    <td><span class="badge badge-success">已认证</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn">
                                                <i class="ri-home-line"></i>
                                                房产
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                                                <tr>
                                    <td>
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 32px; height: 32px; border-radius: 50%; background: var(--success); color: #fff; display: flex; align-items: center; justify-content: center; font-size: 13px; font-weight: 600;">王</div>
                                            <span style="font-weight: 500;">王建国</span>
                                        </div>
                                    </td>
                                    <td>136****9012</td>
                                    <td>110***********9012</td>
                                    <td><span class="badge badge-info">1套</span></td>
                                    <td><span class="tag tag-green">已绑定</span></td>
                                    <td><span class="badge badge-warning">待审核</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn">
                                                <i class="ri-home-line"></i>
                                                房产
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="table-pagination">
                            <div class="pagination-info">
                                显示 1-3 条，共 856 条记录
                            </div>
                            <div class="pagination-controls">
                                <button class="page-btn" disabled>
                                    <i class="ri-arrow-left-s-line"></i>
                                </button>
                                <button class="page-btn active">1</button>
                                <button class="page-btn">2</button>
                                <button class="page-btn">3</button>
                                <button class="page-btn">
                                    <i class="ri-arrow-right-s-line"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 租户管理Tab -->
                <div id="tab-tenants" class="tab-content" style="display: none;">
                    <div class="table-container">
                        <div class="table-toolbar">
                            <div class="table-filters">
                                <div class="search-input">
                                    <i class="ri-search-line"></i>
                                    <input type="text" placeholder="搜索租户姓名、手机号...">
                                </div>
                                <select class="filter-select">
                                    <option>所有小区</option>
                                    <option>银座小区</option>
                                    <option>锦尚名都</option>
                                </select>
                                <select class="filter-select">
                                    <option>租赁状态</option>
                                    <option>租赁中</option>
                                    <option>已到期</option>
                                </select>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn btn-primary" onclick="alert('打开新增租户对话框')">
                                    <i class="ri-add-line"></i>
                                    新增租户
                                </button>
                            </div>
                        </div>

                        <table class="table">
                            <thead>
                                <tr>
                                    <th>租户姓名</th>
                                    <th>联系电话</th>
                                    <th>租赁房产</th>
                                    <th>租赁期限</th>
                                    <th>月租金</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 32px; height: 32px; border-radius: 50%; background: var(--accent-500); color: #fff; display: flex; align-items: center; justify-content: center; font-size: 13px; font-weight: 600;">刘</div>
                                            <span style="font-weight: 500;">刘芳</span>
                                        </div>
                                    </td>
                                    <td>135****7890</td>
                                    <td>银座小区 2号楼-801</td>
                                    <td>
                                        <div style="font-size: 12px; color: var(--gray-600);">2024.01.01 - 2024.12.31</div>
                                    </td>
                                    <td style="font-weight: 600; color: var(--gray-900);">¥3,500</td>
                                    <td><span class="badge badge-success">租赁中</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                                                <tr>
                                    <td>
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 32px; height: 32px; border-radius: 50%; background: var(--info); color: #fff; display: flex; align-items: center; justify-content: center; font-size: 13px; font-weight: 600;">陈</div>
                                            <span style="font-weight: 500;">陈明</span>
                                        </div>
                                    </td>
                                    <td>158****2345</td>
                                    <td>锦尚名都 3号楼-1502</td>
                                    <td>
                                        <div style="font-size: 12px; color: var(--gray-600);">2023.06.01 - 2024.05.31</div>
                                    </td>
                                    <td style="font-weight: 600; color: var(--gray-900);">¥4,200</td>
                                    <td><span class="badge badge-warning">即将到期</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="table-pagination">
                            <div class="pagination-info">
                                显示 1-2 条，共 68 条记录
                            </div>
                            <div class="pagination-controls">
                                <button class="page-btn" disabled>
                                    <i class="ri-arrow-left-s-line"></i>
                                </button>
                                <button class="page-btn active">1</button>
                                <button class="page-btn">2</button>
                                <button class="page-btn">3</button>
                                <button class="page-btn">
                                    <i class="ri-arrow-right-s-line"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `,

            payment: `
                <div class="page-header animate-in">
                    <div>
                        <h1 class="page-title">缴费管理</h1>
                        <p class="page-subtitle">费用标准、账单和缴费记录</p>
                    </div>
                    <div style="display: flex; gap: 12px;">
                        <button class="btn btn-secondary">
                            <i class="ri-settings-3-line"></i>
                            费用设置
                        </button>
                        <button class="btn btn-primary" onclick="alert('打开批量生成账单对话框')">
                            <i class="ri-add-line"></i>
                            生成账单
                        </button>
                    </div>
                </div>

                <!-- Tab切换 -->
                <div class="tabs">
                    <button class="tab active" onclick="switchTab(this, 'bills')">
                        <i class="ri-file-list-3-line"></i>
                        账单列表
                    </button>
                    <button class="tab" onclick="switchTab(this, 'standards')">
                        <i class="ri-price-tag-3-line"></i>
                        费用标准
                    </button>
                    <button class="tab" onclick="switchTab(this, 'records')">
                        <i class="ri-history-line"></i>
                        缴费记录
                    </button>
                </div>

                <!-- 账单列表Tab -->
                <div id="tab-bills" class="tab-content">
                    <div class="table-container">
                        <div class="table-toolbar">
                            <div class="table-filters">
                                <div class="search-input">
                                    <i class="ri-search-line"></i>
                                    <input type="text" placeholder="搜索账单编号、房号...">
                                </div>
                                <select class="filter-select">
                                    <option>所有小区</option>
                                    <option>银座小区</option>
                                    <option>锦尚名都</option>
                                </select>
                                <select class="filter-select">
                                    <option>费用类型</option>
                                    <option>物业费</option>
                                    <option>公摊电费</option>
                                    <option>水费</option>
                                    <option>停车费</option>
                                </select>
                                <select class="filter-select">
                                    <option>账单状态</option>
                                    <option>未缴</option>
                                    <option>部分缴</option>
                                    <option>已缴</option>
                                    <option>逾期</option>
                                </select>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn btn-secondary">
                                    <i class="ri-filter-3-line"></i>
                                    筛选
                                </button>
                                <button class="btn btn-secondary">
                                    <i class="ri-download-line"></i>
                                    导出
                                </button>
                            </div>
                        </div>

                        <table class="table">
                            <thead>
                                <tr>
                                    <th>账单编号</th>
                                    <th>房号</th>
                                    <th>业主</th>
                                    <th>费用类型</th>
                                    <th>账期</th>
                                    <th>应缴金额</th>
                                    <th>实缴金额</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <span style="font-family: monospace; font-weight: 600;">202401001</span>
                                    </td>
                                    <td>银座小区 1号楼-1202</td>
                                    <td>张明华</td>
                                    <td><span class="tag tag-blue">物业费</span></td>
                                    <td>2024-01</td>
                                    <td style="font-weight: 600;">¥256.80</td>
                                    <td style="font-weight: 600; color: var(--success);">¥256.80</td>
                                    <td><span class="badge badge-success">已缴</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-eye-line"></i>
                                                查看
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <span style="font-family: monospace; font-weight: 600;">202401002</span>
                                    </td>
                                    <td>银座小区 2号楼-801</td>
                                    <td>李娜</td>
                                    <td><span class="tag tag-blue">物业费</span></td>
                                    <td>2024-01</td>
                                    <td style="font-weight: 600;">¥196.40</td>
                                    <td style="font-weight: 600; color: var(--warning);">¥100.00</td>
                                    <td><span class="badge badge-warning">部分缴</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-eye-line"></i>
                                                查看
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <span style="font-family: monospace; font-weight: 600;">202401003</span>
                                    </td>
                                    <td>锦尚名都 5号楼-302</td>
                                    <td>王建国</td>
                                    <td><span class="tag tag-blue">物业费</span></td>
                                    <td>2024-01</td>
                                    <td style="font-weight: 600;">¥313.60</td>
                                    <td style="font-weight: 600; color: var(--gray-400);">¥0.00</td>
                                    <td><span class="badge badge-error">未缴</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-eye-line"></i>
                                                查看
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                催缴
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                                                <tr>
                                    <td>
                                        <span style="font-family: monospace; font-weight: 600;">202312015</span>
                                    </td>
                                    <td>锦尚名都 3号楼-601</td>
                                    <td>赵强</td>
                                    <td><span class="tag tag-blue">物业费</span></td>
                                    <td>2023-12</td>
                                    <td style="font-weight: 600;">¥245.00</td>
                                    <td style="font-weight: 600; color: var(--gray-400);">¥0.00</td>
                                    <td><span class="badge badge-error">逾期</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-eye-line"></i>
                                                查看
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                催缴
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                                                <tr>
                                    <td>
                                        <span style="font-family: monospace; font-weight: 600;">202401008</span>
                                    </td>
                                    <td>银座小区 1号楼-B105</td>
                                    <td>张明华</td>
                                    <td><span class="tag tag-gray">停车费</span></td>
                                    <td>2024-01</td>
                                    <td style="font-weight: 600;">¥150.00</td>
                                    <td style="font-weight: 600; color: var(--success);">¥150.00</td>
                                    <td><span class="badge badge-success">已缴</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-eye-line"></i>
                                                查看
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="table-pagination">
                            <div class="pagination-info">
                                显示 1-5 条，共 2,450 条记录
                            </div>
                            <div class="pagination-controls">
                                <button class="page-btn" disabled>
                                    <i class="ri-arrow-left-s-line"></i>
                                </button>
                                <button class="page-btn active">1</button>
                                <button class="page-btn">2</button>
                                <button class="page-btn">3</button>
                                <button class="page-btn">
                                    <i class="ri-arrow-right-s-line"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 费用标准Tab -->
                <div id="tab-standards" class="tab-content" style="display: none;">
                    <div class="table-container">
                        <div class="table-toolbar">
                            <div class="table-filters">
                                <select class="filter-select">
                                    <option>所有小区</option>
                                    <option>银座小区</option>
                                    <option>锦尚名都</option>
                                </select>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn btn-primary" onclick="alert('打开新增费用标准对话框')">
                                    <i class="ri-add-line"></i>
                                    新增标准
                                </button>
                            </div>
                        </div>

                        <table class="table">
                            <thead>
                                <tr>
                                    <th>费用名称</th>
                                    <th>所属小区</th>
                                    <th>费用类型</th>
                                    <th>单价(元/㎡/月)</th>
                                    <th>计费周期</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div style="font-weight: 600;">高层物业费</div>
                                    </td>
                                    <td>银座小区</td>
                                    <td><span class="tag tag-blue">物业费</span></td>
                                    <td style="font-weight: 600; color: var(--primary-600);">¥2.00</td>
                                    <td>按月</td>
                                    <td><span class="badge badge-success">启用</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <div style="font-weight: 600;">多层物业费</div>
                                    </td>
                                    <td>银座小区</td>
                                    <td><span class="tag tag-blue">物业费</span></td>
                                    <td style="font-weight: 600; color: var(--primary-600);">¥1.50</td>
                                    <td>按月</td>
                                    <td><span class="badge badge-success">启用</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                                                <tr>
                                    <td>
                                        <div style="font-weight: 600;">公摊电费</div>
                                    </td>
                                    <td>锦尚名都</td>
                                    <td><span class="tag tag-green">公摊电费</span></td>
                                    <td style="font-weight: 600; color: var(--primary-600);">¥0.80</td>
                                    <td>按月</td>
                                    <td><span class="badge badge-success">启用</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                                                <tr>
                                    <td>
                                        <div style="font-weight: 600;">地面停车费</div>
                                    </td>
                                    <td>银座小区</td>
                                    <td><span class="tag tag-gray">停车费</span></td>
                                    <td style="font-weight: 600; color: var(--primary-600);">¥150.00</td>
                                    <td>按月</td>
                                    <td><span class="badge badge-success">启用</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                                                <tr>
                                    <td>
                                        <div style="font-weight: 600;">地下车库管理费</div>
                                    </td>
                                    <td>锦尚名都</td>
                                    <td><span class="tag tag-gray">停车费</span></td>
                                    <td style="font-weight: 600; color: var(--primary-600);">¥80.00</td>
                                    <td>按月</td>
                                    <td><span class="badge badge-success">启用</span></td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-edit-line"></i>
                                                编辑
                                            </button>
                                            <button class="action-btn delete">
                                                <i class="ri-delete-bin-line"></i>
                                                删除
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="table-pagination">
                            <div class="pagination-info">
                                显示 1-5 条，共 12 条记录
                            </div>
                            <div class="pagination-controls">
                                <button class="page-btn" disabled>
                                    <i class="ri-arrow-left-s-line"></i>
                                </button>
                                <button class="page-btn active">1</button>
                                <button class="page-btn">2</button>
                                <button class="page-btn">
                                    <i class="ri-arrow-right-s-line"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 缴费记录Tab -->
                <div id="tab-records" class="tab-content" style="display: none;">
                    <div class="table-container">
                        <div class="table-toolbar">
                            <div class="table-filters">
                                <div class="search-input">
                                    <i class="ri-search-line"></i>
                                    <input type="text" placeholder="搜索交易号、房号...">
                                </div>
                                <select class="filter-select">
                                    <option>所有小区</option>
                                    <option>银座小区</option>
                                    <option>锦尚名都</option>
                                </select>
                                <select class="filter-select">
                                    <option>支付方式</option>
                                    <option>微信支付</option>
                                    <option>支付宝</option>
                                    <option>现金</option>
                                    <option>银行转账</option>
                                </select>
                                <input type="date" class="filter-select" style="width: auto;">
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn btn-secondary">
                                    <i class="ri-download-line"></i>
                                    导出
                                </button>
                            </div>
                        </div>

                        <table class="table">
                            <thead>
                                <tr>
                                    <th>交易号</th>
                                    <th>房号</th>
                                    <th>业主</th>
                                    <th>缴费金额</th>
                                    <th>支付方式</th>
                                    <th>缴费时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <span style="font-family: monospace; font-size: 12px;">WX2024011512345</span>
                                    </td>
                                    <td>银座小区 1号楼-1202</td>
                                    <td>张明华</td>
                                    <td style="font-weight: 600; color: var(--success);">¥256.80</td>
                                    <td><span class="tag tag-green">微信支付</span></td>
                                    <td>2024-01-15 14:32:18</td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-eye-line"></i>
                                                详情
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                                                <tr>
                                    <td>
                                        <span style="font-family: monospace; font-size: 12px;">ZFB2024011556789</span>
                                    </td>
                                    <td>锦尚名都 3号楼-502</td>
                                    <td>李娜</td>
                                    <td style="font-weight: 600; color: var(--success);">¥196.40</td>
                                    <td><span class="tag tag-blue">支付宝</span></td>
                                    <td>2024-01-15 10:15:33</td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-eye-line"></i>
                                                详情
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                                                <tr>
                                    <td>
                                        <span style="font-family: monospace; font-size: 12px;">CASH202401140001</span>
                                    </td>
                                    <td>银座小区 5号楼-301</td>
                                    <td>王建国</td>
                                    <td style="font-weight: 600; color: var(--success);">¥280.00</td>
                                    <td><span class="tag tag-gray">现金</span></td>
                                    <td>2024-01-14 16:42:05</td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-eye-line"></i>
                                                详情
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                                                <tr>
                                    <td>
                                        <span style="font-family: monospace; font-size: 12px;">WX2024011498765</span>
                                    </td>
                                    <td>锦尚名都 2号楼-1201</td>
                                    <td>赵强</td>
                                    <td style="font-weight: 600; color: var(--success);">¥313.60</td>
                                    <td><span class="tag tag-green">微信支付</span></td>
                                    <td>2024-01-14 09:28:17</td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit">
                                                <i class="ri-eye-line"></i>
                                                详情
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="table-pagination">
                            <div class="pagination-info">
                                显示 1-4 条，共 1,856 条记录
                            </div>
                            <div class="pagination-controls">
                                <button class="page-btn" disabled>
                                    <i class="ri-arrow-left-s-line"></i>
                                </button>
                                <button class="page-btn active">1</button>
                                <button class="page-btn">2</button>
                                <button class="page-btn">3</button>
                                <button class="page-btn">
                                    <i class="ri-arrow-right-s-line"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `,

            maintenance: `
                <div class="page-header animate-in">
                    <div>
                        <h1 class="page-title">报事管理</h1>
                        <p class="page-subtitle">处理业主报事和维修请求</p>
                    </div>
                    <div style="display: flex; gap: 12px;">
                        <button class="btn btn-secondary">
                            <i class="ri-bar-chart-line"></i>
                            统计分析
                        </button>
                        <button class="btn btn-primary" onclick="alert('打开手动报事对话框')">
                            <i class="ri-add-line"></i>
                            手动报事
                        </button>
                    </div>
                </div>

                <!-- 统计看板 -->
                <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 16px; margin-bottom: 24px;">
                    <div style="background: #fff; border-radius: var(--radius-lg); padding: 16px; box-shadow: var(--shadow-sm);">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;">
                            <span style="font-size: 13px; color: var(--gray-500);">全部报事</span>
                            <div style="width: 32px; height: 32px; border-radius: var(--radius-md); background: var(--primary-50); color: var(--primary-600); display: flex; align-items: center; justify-content: center;">
                                <i class="ri-file-list-3-line"></i>
                            </div>
                        </div>
                        <div style="font-size: 24px; font-weight: 700; color: var(--gray-900);">156</div>
                    </div>

                    <div style="background: #fff; border-radius: var(--radius-lg); padding: 16px; box-shadow: var(--shadow-sm);">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;">
                            <span style="font-size: 13px; color: var(--gray-500);">待派单</span>
                            <div style="width: 32px; height: 32px; border-radius: var(--radius-md); background: var(--warning-light); color: var(--warning); display: flex; align-items: center; justify-content: center;">
                                <i class="ri-time-line"></i>
                            </div>
                        </div>
                        <div style="font-size: 24px; font-weight: 700; color: var(--warning);">12</div>
                    </div>

                    <div style="background: #fff; border-radius: var(--radius-lg); padding: 16px; box-shadow: var(--shadow-sm);">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;">
                            <span style="font-size: 13px; color: var(--gray-500);">处理中</span>
                            <div style="width: 32px; height: 32px; border-radius: var(--radius-md); background: var(--info-light); color: var(--info); display: flex; align-items: center; justify-content: center;">
                                <i class="ri-loader-4-line"></i>
                            </div>
                        </div>
                        <div style="font-size: 24px; font-weight: 700; color: var(--info);">8</div>
                    </div>

                    <div style="background: #fff; border-radius: var(--radius-lg); padding: 16px; box-shadow: var(--shadow-sm);">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;">
                            <span style="font-size: 13px; color: var(--gray-500);">已完成</span>
                            <div style="width: 32px; height: 32px; border-radius: var(--radius-md); background: var(--success-light); color: var(--success); display: flex; align-items: center; justify-content: center;">
                                <i class="ri-check-double-line"></i>
                            </div>
                        </div>
                        <div style="font-size: 24px; font-weight: 700; color: var(--success);">128</div>
                    </div>

                    <div style="background: #fff; border-radius: var(--radius-lg); padding: 16px; box-shadow: var(--shadow-sm);">
                        <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px;">
                            <span style="font-size: 13px; color: var(--gray-500);">紧急报事</span>
                            <div style="width: 32px; height: 32px; border-radius: var(--radius-md); background: var(--error-light); color: var(--error); display: flex; align-items: center; justify-content: center;">
                                <i class="ri-alarm-warning-line"></i>
                            </div>
                        </div>
                        <div style="font-size: 24px; font-weight: 700; color: var(--error);">3</div>
                    </div>
                </div>

                <!-- Tab切换 -->
                <div class="tabs">
                    <button class="tab active" onclick="switchTab(this, 'requests-list')">
                        <i class="ri-list-check"></i>
                        报事列表
                    </button>
                    <button class="tab" onclick="switchTab(this, 'kanban')">
                        <i class="ri-kanban-view"></i>
                        看板视图
                    </button>
                    <button class="tab" onclick="switchTab(this, 'stats')">
                        <i class="ri-pie-chart-line"></i>
                        统计分析
                    </button>
                </div>

                <!-- 报事列表Tab -->
                <div id="tab-requests-list" class="tab-content">
                    <div class="table-container">
                        <div class="table-toolbar">
                            <div class="table-filters">
                                <div class="search-input">
                                    <i class="ri-search-line"></i>
                                    <input type="text" placeholder="搜索报事编号、房号...">
                                </div>
                                <select class="filter-select">
                                    <option>所有小区</option>
                                    <option>银座小区</option>
                                    <option>锦尚名都</option>
                                </select>
                                <select class="filter-select">
                                    <option>报事类别</option>
                                    <option>水电维修</option>
                                    <option>设施设备</option>
                                    <option>环境卫生</option>
                                    <option>安全保卫</option>
                                </select>
                                <select class="filter-select">
                                    <option>优先级</option>
                                    <option>非常紧急</option>
                                    <option>紧急</option>
                                    <option>一般</option>
                                </select>
                                <select class="filter-select">
                                    <option>处理状态</option>
                                    <option>待派单</option>
                                    <option>已派单</option>
                                    <option>处理中</option>
                                    <option>已完成</option>
                                    <option>已关闭</option>
                                </select>
                            </div>
                            <div style="display: flex; gap: 8px;">
                                <button class="btn btn-secondary">
                                    <i class="ri-filter-3-line"></i>
                                    筛选
                                </button>
                                <button class="btn btn-secondary">
                                    <i class="ri-download-line"></i>
                                    导出
                                </button>
                            </div>
                        </div>

                        <table class="table">
                            <thead>
                                <tr>
                                    <th>报事编号</th>
                                    <th>房产位置</th>
                                    <th>报事人</th>
                                    <th>报事类别</th>
                                    <th>问题描述</th>
                                    <th>优先级</th>
                                    <th>状态</th>
                                    <th>创建时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <span style="font-family: monospace; font-weight: 600;">BX20240115001</span>
                                    </td>
                                    <td>银座小区 1号楼-1202</td>
                                    <td>张明华</td>
                                    <td><span class="tag tag-blue">水电维修</span></td>
                                    <td>
                                        <div style="max-width: 200px;">卫生间漏水严重，需要紧急处理</div>
                                    </td>
                                    <td><span class="badge badge-error">非常紧急</span></td>
                                    <td><span class="badge badge-warning">待派单</span></td>
                                    <td style="font-size: 12px; color: var(--gray-500);">2024-01-15 14:20</td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit" onclick="alert('跳转到报事详情页')">
                                                <i class="ri-eye-line"></i>
                                                查看
                                            </button>
                                            <button class="action-btn delete" style="color: var(--info); background: var(--info-light);" onclick="alert('打开派单对话框')">
                                                <i class="ri-send-plane-line"></i>
                                                派单
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                <tr>
                                    <td>
                                        <span style="font-family: monospace; font-weight: 600;">BX20240115002</span>
                                    </td>
                                    <td>锦尚名都 5号楼 楼道</td>
                                    <td>李娜</td>
                                    <td><span class="tag tag-blue">水电维修</span></td>
                                    <td>
                                        <div style="max-width: 200px;">楼道灯不亮，影响夜间通行</div>
                                    </td>
                                    <td><span class="badge badge-warning">一般</span></td>
                                    <td><span class="badge badge-info">已派单</span></td>
                                    <td style="font-size: 12px; color: var(--gray-500);">2024-01-15 10:15</td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit" onclick="alert('跳转到报事详情页')">
                                                <i class="ri-eye-line"></i>
                                                查看
                                            </button>
                                            <button class="action-btn delete" style="color: var(--success); background: var(--success-light);" onclick="alert('更新处理进度')">
                                                <i class="ri-edit-line"></i>
                                                进度
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                                                <tr>
                                    <td>
                                        <span style="font-family: monospace; font-weight: 600;">BX20240114056</span>
                                    </td>
                                    <td>银座小区 1号楼 单元门</td>
                                    <td>王建国</td>
                                    <td><span class="tag tag-gray">设施设备</span></td>
                                    <td>
                                        <div style="max-width: 200px;">单元门门锁故障，无法正常开关</div>
                                    </td>
                                    <td><span class="badge badge-warning">一般</span></td>
                                    <td><span class="badge badge-info">处理中</span></td>
                                    <td style="font-size: 12px; color: var(--gray-500);">2024-01-14 16:30</td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit" onclick="alert('跳转到报事详情页')">
                                                <i class="ri-eye-line"></i>
                                                查看
                                            </button>
                                            <button class="action-btn delete" style="color: var(--success); background: var(--success-light);" onclick="alert('标记为已完成')">
                                                <i class="ri-check-line"></i>
                                                完成
                                            </button>
                                        </div>
                                    </td>
                                </tr>

                                                                <tr>
                                    <td>
                                        <span style="font-family: monospace; font-weight: 600;">BX20240114055</span>
                                    </td>
                                    <td>锦尚名都 小区花园</td>
                                    <td>赵强</td>
                                    <td><span class="tag tag-green">环境卫生</span></td>
                                    <td>
                                        <div style="max-width: 200px;">绿化带需要修剪，杂草丛生</div>
                                    </td>
                                    <td><span class="badge badge-info">建议</span></td>
                                    <td><span class="badge badge-success">已完成</span></td>
                                    <td style="font-size: 12px; color: var(--gray-500);">2024-01-14 09:20</td>
                                    <td>
                                        <div class="table-actions">
                                            <button class="action-btn edit" onclick="alert('跳转到报事详情页')">
                                                <i class="ri-eye-line"></i>
                                                查看
                                            </button>
                                            <button class="action-btn delete" style="color: var(--gray-600); background: var(--gray-100);" onclick="alert('关闭报事')">
                                                <i class="ri-close-line"></i>
                                                关闭
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <div class="table-pagination">
                            <div class="pagination-info">
                                显示 1-4 条，共 156 条记录
                            </div>
                            <div class="pagination-controls">
                                <button class="page-btn" disabled>
                                    <i class="ri-arrow-left-s-line"></i>
                                </button>
                                <button class="page-btn active">1</button>
                                <button class="page-btn">2</button>
                                <button class="page-btn">3</button>
                                <button class="page-btn">4</button>
                                <button class="page-btn">
                                    <i class="ri-arrow-right-s-line"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 看板视图Tab -->
                <div id="tab-kanban" class="tab-content" style="display: none;">
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 24px; overflow-x: auto;">
                        <!-- 待派单列 -->
                        <div style="background: var(--gray-100); border-radius: var(--radius-lg); padding: 16px;">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px;">
                                <h3 style="font-size: 14px; font-weight: 600; color: var(--gray-900);">待派单</h3>
                                <span class="badge badge-warning">12</span>
                            </div>

                            <div style="background: #fff; border-radius: var(--radius-md); padding: 16px; margin-bottom: 12px; box-shadow: var(--shadow-sm); cursor: pointer;" onclick="alert('查看报事详情')">
                                <div style="display: flex; align-items: justify-between; margin-bottom: 8px;">
                                    <span style="font-family: monospace; font-size: 12px; color: var(--primary-600);">BX20240115001</span>
                                    <span class="badge badge-error" style="font-size: 10px;">紧急</span>
                                </div>
                                <div style="font-size: 13px; font-weight: 500; color: var(--gray-900); margin-bottom: 4px;">卫生间漏水严重</div>
                                <div style="font-size: 12px; color: var(--gray-500); margin-bottom: 8px;">银座小区 1号楼-1202</div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 24px; height: 24px; border-radius: 50%; background: var(--primary-500); color: #fff; font-size: 11px; display: flex; align-items: center; justify-content: center;">张</div>
                                    <span style="font-size: 12px; color: var(--gray-600);">张明华</span>
                                </div>
                            </div>

                            <div style="background: #fff; border-radius: var(--radius-md); padding: 16px; box-shadow: var(--shadow-sm); cursor: pointer;" onclick="alert('查看报事详情')">
                                <div style="display: flex; align-items: justify-between; margin-bottom: 8px;">
                                    <span style="font-family: monospace; font-size: 12px; color: var(--primary-600);">BX20240115003</span>
                                    <span class="badge badge-warning" style="font-size: 10px;">一般</span>
                                </div>
                                <div style="font-size: 13px; font-weight: 500; color: var(--gray-900); margin-bottom: 4px;">窗户玻璃破损</div>
                                <div style="font-size: 12px; color: var(--gray-500); margin-bottom: 8px;">锦尚名都 3号楼-502</div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 24px; height: 24px; border-radius: 50%; background: var(--warning); color: #fff; font-size: 11px; display: flex; align-items: center; justify-content: center;">李</div>
                                    <span style="font-size: 12px; color: var(--gray-600);">李娜</span>
                                </div>
                            </div>
                        </div>

                        <!-- 已派单列 -->
                        <div style="background: var(--gray-100); border-radius: var(--radius-lg); padding: 16px;">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px;">
                                <h3 style="font-size: 14px; font-weight: 600; color: var(--gray-900);">已派单</h3>
                                <span class="badge badge-info">8</span>
                            </div>

                            <div style="background: #fff; border-radius: var(--radius-md); padding: 16px; margin-bottom: 12px; box-shadow: var(--shadow-sm); cursor: pointer;" onclick="alert('查看报事详情')">
                                <div style="display: flex; align-items: justify-between; margin-bottom: 8px;">
                                    <span style="font-family: monospace; font-size: 12px; color: var(--primary-600);">BX20240115002</span>
                                    <span class="badge badge-warning" style="font-size: 10px;">一般</span>
                                </div>
                                <div style="font-size: 13px; font-weight: 500; color: var(--gray-900); margin-bottom: 4px;">楼道灯不亮</div>
                                <div style="font-size: 12px; color: var(--gray-500); margin-bottom: 8px;">锦尚名都 5号楼 楼道</div>
                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 24px; height: 24px; border-radius: 50%; background: var(--success); color: #fff; font-size: 11px; display: flex; align-items: center; justify-content: center;">王</div>
                                        <span style="font-size: 12px; color: var(--gray-600);">王师傅</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 处理中列 -->
                        <div style="background: var(--gray-100); border-radius: var(--radius-lg); padding: 16px;">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px;">
                                <h3 style="font-size: 14px; font-weight: 600; color: var(--gray-900);">处理中</h3>
                                <span class="badge badge-info">8</span>
                            </div>

                            <div style="background: #fff; border-radius: var(--radius-md); padding: 16px; margin-bottom: 12px; box-shadow: var(--shadow-sm); cursor: pointer;" onclick="alert('查看报事详情')">
                                <div style="display: flex; align-items: justify-between; margin-bottom: 8px;">
                                    <span style="font-family: monospace; font-size: 12px; color: var(--primary-600);">BX20240114056</span>
                                    <span class="badge badge-warning" style="font-size: 10px;">一般</span>
                                </div>
                                <div style="font-size: 13px; font-weight: 500; color: var(--gray-900); margin-bottom: 4px;">单元门门锁故障</div>
                                <div style="font-size: 12px; color: var(--gray-500); margin-bottom: 8px;">银座小区 1号楼 单元门</div>
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <div style="width: 24px; height: 24px; border-radius: 50%; background: var(--info); color: #fff; font-size: 11px; display: flex; align-items: center; justify-content: center;">陈</div>
                                    <span style="font-size: 12px; color: var(--gray-600);">陈师傅</span>
                                </div>
                            </div>
                        </div>

                        <!-- 已完成列 -->
                        <div style="background: var(--gray-100); border-radius: var(--radius-lg); padding: 16px;">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px;">
                                <h3 style="font-size: 14px; font-weight: 600; color: var(--gray-900);">已完成</h3>
                                <span class="badge badge-success">128</span>
                            </div>

                            <div style="background: #fff; border-radius: var(--radius-md); padding: 16px; margin-bottom: 12px; box-shadow: var(--shadow-sm); cursor: pointer;" onclick="alert('查看报事详情')">
                                <div style="display: flex; align-items: justify-between; margin-bottom: 8px;">
                                    <span style="font-family: monospace; font-size: 12px; color: var(--primary-600);">BX20240114055</span>
                                    <span class="badge badge-info" style="font-size: 10px;">建议</span>
                                </div>
                                <div style="font-size: 13px; font-weight: 500; color: var(--gray-900); margin-bottom: 4px;">绿化带需要修剪</div>
                                <div style="font-size: 12px; color: var(--gray-500); margin-bottom: 8px;">锦尚名都 小区花园</div>
                                <div style="display: flex; align-items: center; justify-content: space-between;">
                                    <div style="display: flex; align-items: center; gap: 8px;">
                                        <div style="width: 24px; height: 24px; border-radius: 50%; background: var(--success); color: #fff; font-size: 11px; display: flex; align-items: center; justify-content: center;">绿</div>
                                        <span style="font-size: 12px; color: var(--gray-600);">绿化组</span>
                                    </div>
                                    <i class="ri-star-fill" style="color: #FFD700; font-size: 14px;"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 统计分析Tab -->
                <div id="tab-stats" class="tab-content" style="display: none;">
                    <div class="content-grid">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">本月报事统计</h3>
                            </div>
                            <div class="card-body">
                                <div style="margin-bottom: 24px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <span style="font-size: 13px; color: var(--gray-600);">水电维修</span>
                                        <span style="font-size: 13px; font-weight: 600;">45%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 45%;"></div>
                                    </div>
                                </div>

                                <div style="margin-bottom: 24px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <span style="font-size: 13px; color: var(--gray-600);">设施设备</span>
                                        <span style="font-size: 13px; font-weight: 600;">28%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 28%; background: var(--warning);"></div>
                                    </div>
                                </div>

                                <div style="margin-bottom: 24px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <span style="font-size: 13px; color: var(--gray-600);">环境卫生</span>
                                        <span style="font-size: 13px; font-weight: 600;">18%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 18%; background: var(--success);"></div>
                                    </div>
                                </div>

                                <div>
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <span style="font-size: 13px; color: var(--gray-600);">其他</span>
                                        <span style="font-size: 13px; font-weight: 600;">9%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 9%; background: var(--gray-400);"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">处理效率</h3>
                            </div>
                            <div class="card-body">
                                <div style="text-align: center; padding: 24px 0;">
                                    <div style="font-size: 48px; font-weight: 700; color: var(--primary-600); margin-bottom: 8px;">92%</div>
                                    <div style="font-size: 14px; color: var(--gray-600); margin-bottom: 24px;">及时处理率</div>

                                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px;">
                                        <div style="text-align: center;">
                                            <div style="font-size: 24px; font-weight: 600; color: var(--gray-900);">2.5h</div>
                                            <div style="font-size: 12px; color: var(--gray-500);">平均响应时间</div>
                                        </div>
                                        <div style="text-align: center;">
                                            <div style="font-size: 24px; font-weight: 600; color: var(--gray-900);">4.2</div>
                                            <div style="font-size: 12px; color: var(--gray-500);">平均评分(5分)</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `,

            // ============================================
            // 支付管理页面
            // ============================================
            'payment-management': `
                <div class="page-header animate-in">
                    <div>
                        <h1 class="page-title">支付管理</h1>
                        <p class="page-subtitle">管理微信支付账号配置（个人账号和企业对公账户）</p>
                    </div>
                    <div style="display: flex; gap: 12px;">
                        <button class="btn btn-secondary" onclick="testPaymentConfig()">
                            <i class="ri-test-tube-line"></i>
                            测试连接
                        </button>
                        <button class="btn btn-primary" onclick="openPaymentModal()">
                            <i class="ri-add-line"></i>
                            新增支付配置
                        </button>
                    </div>
                </div>

                <!-- 支付配置列表 -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">支付配置列表</h3>
                        <div class="card-actions">
                            <select id="paymentFilter" onchange="filterPaymentConfigs()" style="padding: 6px 12px; border: 1px solid var(--gray-300); border-radius: 6px;">
                                <option value="">全部类型</option>
                                <option value="personal">个人账号</option>
                                <option value="enterprise">企业对公账户</option>
                            </select>
                        </div>
                    </div>
                    <div class="card-body">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>配置名称</th>
                                    <th>账号类型</th>
                                    <th>商户号</th>
                                    <th>应用ID</th>
                                    <th>状态</th>
                                    <th>默认</th>
                                    <th>创建时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody id="paymentConfigTable">
                                <tr>
                                    <td colspan="8" style="text-align: center; padding: 40px; color: var(--gray-500);">
                                        <i class="ri-loader-4-line" style="font-size: 24px; display: block; margin-bottom: 12px;"></i>
                                        加载中...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 支付配置表单模态框 -->
                <div id="paymentModal" class="modal" style="display: none;">
                    <div class="modal-content" style="max-width: 700px;">
                        <div class="modal-header">
                            <h3 class="modal-title" id="paymentModalTitle">新增支付配置</h3>
                            <button class="modal-close" onclick="closePaymentModal()">
                                <i class="ri-close-line"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form id="paymentConfigForm" onsubmit="savePaymentConfig(event)">
                                <input type="hidden" id="paymentConfigId">

                                <div class="form-group">
                                    <label class="form-label">配置名称 <span style="color: var(--error);">*</span></label>
                                    <input type="text" class="form-control" id="paymentName" required placeholder="例如：主收款账户">
                                </div>

                                <div class="form-group">
                                    <label class="form-label">账号类型 <span style="color: var(--error);">*</span></label>
                                    <select class="form-control" id="paymentAccountType" required onchange="togglePaymentFields()">
                                        <option value="">请选择</option>
                                        <option value="personal">个人账号</option>
                                        <option value="enterprise">企业对公账户</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">应用ID (AppID) <span style="color: var(--error);">*</span></label>
                                    <input type="text" class="form-control" id="paymentAppId" required placeholder="微信开放平台审核通过的应用AppID">
                                </div>

                                <div class="form-group">
                                    <label class="form-label">应用密钥 (AppSecret)</label>
                                    <input type="password" class="form-control" id="paymentAppSecret" placeholder="应用密钥，请妥善保管">
                                </div>

                                <div class="enterprise-fields">
                                    <div class="form-group">
                                        <label class="form-label">商户号 (MchID)</label>
                                        <input type="text" class="form-control" id="paymentMchId" placeholder="微信支付分配的商户号">
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">API密钥 (Key)</label>
                                        <input type="password" class="form-control" id="paymentApiKey" placeholder="API密钥，请妥善保管">
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">APIv3密钥</label>
                                        <input type="password" class="form-control" id="paymentApiV3Key" placeholder="APIv3密钥，请妥善保管">
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">证书序列号</label>
                                        <input type="text" class="form-control" id="paymentSerialNo" placeholder="证书序列号">
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">证书路径</label>
                                        <input type="text" class="form-control" id="paymentCertPath" placeholder="apiclient_cert.pem文件路径">
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">密钥路径</label>
                                        <input type="text" class="form-control" id="paymentKeyPath" placeholder="apiclient_key.pem文件路径">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">支付回调地址</label>
                                    <input type="url" class="form-control" id="paymentNotifyUrl" placeholder="https://your-domain.com/api/payment/notify/">
                                </div>

                                <div class="form-group">
                                    <label class="form-label">备注</label>
                                    <textarea class="form-control" id="paymentRemarks" rows="3" placeholder="填写备注信息（选填）"></textarea>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">
                                        <input type="checkbox" id="paymentIsActive" checked>
                                        启用此配置
                                    </label>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">
                                        <input type="checkbox" id="paymentIsDefault">
                                        设为默认配置
                                    </label>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-secondary" onclick="closePaymentModal()">取消</button>
                            <button class="btn btn-primary" onclick="submitPaymentForm()">保存</button>
                        </div>
                    </div>
                </div>
            `,

            // ============================================
            // 账户管理页面
            // ============================================
            'account-management': `
                <div class="page-header animate-in">
                    <div>
                        <h1 class="page-title">账户管理</h1>
                        <p class="page-subtitle">创建和管理系统账号，设置不同角色的操作权限</p>
                    </div>
                    <div style="display: flex; gap: 12px;">
                        <button class="btn btn-secondary" onclick="showPermissionMatrix()">
                            <i class="ri-key-2-line"></i>
                            权限矩阵
                        </button>
                        <button class="btn btn-primary" onclick="openAccountModal()">
                            <i class="ri-user-add-line"></i>
                            新增账号
                        </button>
                    </div>
                </div>

                <!-- 角色统计卡片 -->
                <div class="stat-grid" style="margin-bottom: 24px;">
                    <div class="stat-card" style="padding: 16px;">
                        <div style="font-size: 28px; font-weight: 700; color: var(--primary-600);">1</div>
                        <div style="font-size: 13px; color: var(--gray-600);">超级管理员</div>
                    </div>
                    <div class="stat-card" style="padding: 16px;">
                        <div style="font-size: 28px; font-weight: 700; color: var(--success);">3</div>
                        <div style="font-size: 13px; color: var(--gray-600);">管理员</div>
                    </div>
                    <div class="stat-card" style="padding: 16px;">
                        <div style="font-size: 28px; font-weight: 700; color: var(--warning);">2</div>
                        <div style="font-size: 13px; color: var(--gray-600);">财务</div>
                    </div>
                    <div class="stat-card" style="padding: 16px;">
                        <div style="font-size: 28px; font-weight: 700; color: var(--info);">5</div>
                        <div style="font-size: 13px; color: var(--gray-600);">前台</div>
                    </div>
                    <div class="stat-card" style="padding: 16px;">
                        <div style="font-size: 28px; font-weight: 700; color: var(--accent-600);">4</div>
                        <div style="font-size: 13px; color: var(--gray-600);">工程部</div>
                    </div>
                </div>

                <!-- 账户列表 -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">系统账号列表</h3>
                        <div class="card-actions">
                            <select id="accountRoleFilter" onchange="filterAccounts()" style="padding: 6px 12px; border: 1px solid var(--gray-300); border-radius: 6px;">
                                <option value="">全部角色</option>
                                <option value="super_admin">超级管理员</option>
                                <option value="admin">管理员</option>
                                <option value="finance">财务</option>
                                <option value="receptionist">前台</option>
                                <option value="engineering">工程部</option>
                            </select>
                            <input type="text" id="accountSearchInput" placeholder="搜索账号..." onkeyup="searchAccounts()" style="padding: 6px 12px; border: 1px solid var(--gray-300); border-radius: 6px; width: 200px;">
                        </div>
                    </div>
                    <div class="card-body">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>用户名</th>
                                    <th>姓名</th>
                                    <th>角色</th>
                                    <th>联系电话</th>
                                    <th>邮箱</th>
                                    <th>状态</th>
                                    <th>创建时间</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody id="accountTable">
                                <tr>
                                    <td colspan="8" style="text-align: center; padding: 40px; color: var(--gray-500);">
                                        <i class="ri-loader-4-line" style="font-size: 24px; display: block; margin-bottom: 12px;"></i>
                                        加载中...
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 账号表单模态框 -->
                <div id="accountModal" class="modal" style="display: none;">
                    <div class="modal-content" style="max-width: 700px;">
                        <div class="modal-header">
                            <h3 class="modal-title" id="accountModalTitle">新增账号</h3>
                            <button class="modal-close" onclick="closeAccountModal()">
                                <i class="ri-close-line"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form id="accountForm" onsubmit="saveAccount(event)">
                                <input type="hidden" id="accountId">

                                <div class="form-group">
                                    <label class="form-label">用户名 <span style="color: var(--error);">*</span></label>
                                    <input type="text" class="form-control" id="accountUsername" required placeholder="用于登录的用户名">
                                </div>

                                <div class="form-group">
                                    <label class="form-label">姓名 <span style="color: var(--error);">*</span></label>
                                    <input type="text" class="form-control" id="accountFirstName" required placeholder="真实姓名">
                                </div>

                                <div class="form-group" id="passwordFieldGroup">
                                    <label class="form-label">密码 <span style="color: var(--error);">*</span></label>
                                    <input type="password" class="form-control" id="accountPassword" placeholder="至少6位字符">
                                </div>

                                <div class="form-group" id="passwordConfirmFieldGroup">
                                    <label class="form-label">确认密码 <span style="color: var(--error);">*</span></label>
                                    <input type="password" class="form-control" id="accountPasswordConfirm" placeholder="再次输入密码">
                                </div>

                                <div class="form-group">
                                    <label class="form-label">角色 <span style="color: var(--error);">*</span></label>
                                    <select class="form-control" id="accountRole" required onchange="updatePermissionPreview()">
                                        <option value="">请选择</option>
                                        <option value="super_admin">超级管理员</option>
                                        <option value="admin">管理员</option>
                                        <option value="finance">财务</option>
                                        <option value="receptionist">前台</option>
                                        <option value="engineering">工程部</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">联系电话</label>
                                    <input type="tel" class="form-control" id="accountPhone" placeholder="手机号码">
                                </div>

                                <div class="form-group">
                                    <label class="form-label">邮箱</label>
                                    <input type="email" class="form-control" id="accountEmail" placeholder="电子邮箱">
                                </div>

                                <!-- 权限预览 -->
                                <div id="permissionPreview" style="display: none; margin-top: 16px; padding: 16px; background: var(--gray-50); border-radius: 8px;">
                                    <div style="font-weight: 600; margin-bottom: 12px; color: var(--gray-900);">
                                        <i class="ri-shield-check-line" style="color: var(--primary-600);"></i>
                                        权限预览
                                    </div>
                                    <div id="permissionList" style="font-size: 13px; color: var(--gray-600);"></div>
                                </div>

                                <div class="form-group" style="margin-top: 16px;">
                                    <label class="form-label">
                                        <input type="checkbox" id="accountIsActive" checked>
                                        启用此账号
                                    </label>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-secondary" onclick="closeAccountModal()">取消</button>
                            <button class="btn btn-primary" onclick="submitAccountForm()">保存</button>
                        </div>
                    </div>
                </div>

                <!-- 权限矩阵模态框 -->
                <div id="permissionMatrixModal" class="modal" style="display: none;">
                    <div class="modal-content" style="max-width: 900px;">
                        <div class="modal-header">
                            <h3 class="modal-title">角色权限矩阵</h3>
                            <button class="modal-close" onclick="closePermissionMatrix()">
                                <i class="ri-close-line"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div style="overflow-x: auto;">
                                <table class="data-table">
                                    <thead>
                                        <tr>
                                            <th>功能模块</th>
                                            <th>超级管理员</th>
                                            <th>管理员</th>
                                            <th>财务</th>
                                            <th>前台</th>
                                            <th>工程部</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td><strong>数据概览</strong></td>
                                            <td><span class="badge badge-success">查看</span></td>
                                            <td><span class="badge badge-success">查看</span></td>
                                            <td><span class="badge badge-success">查看</span></td>
                                            <td><span class="badge badge-success">查看</span></td>
                                            <td><span class="badge badge-success">查看</span></td>
                                        </tr>
                                        <tr>
                                            <td><strong>小区管理</strong></td>
                                            <td><span class="badge badge-success">全部</span></td>
                                            <td><span class="badge badge-success">查看/编辑</span></td>
                                            <td><span class="badge badge-secondary">查看</span></td>
                                            <td><span class="badge badge-secondary">查看</span></td>
                                            <td><span class="badge badge-secondary">查看</span></td>
                                        </tr>
                                        <tr>
                                            <td><strong>房产管理</strong></td>
                                            <td><span class="badge badge-success">全部</span></td>
                                            <td><span class="badge badge-success">查看/编辑</span></td>
                                            <td><span class="badge badge-secondary">查看</span></td>
                                            <td><span class="badge badge-success">查看/编辑</span></td>
                                            <td><span class="badge badge-secondary">查看</span></td>
                                        </tr>
                                        <tr>
                                            <td><strong>缴费管理</strong></td>
                                            <td><span class="badge badge-success">全部</span></td>
                                            <td><span class="badge badge-success">查看/编辑</span></td>
                                            <td><span class="badge badge-success">全部</span></td>
                                            <td><span class="badge badge-success">查看/编辑</span></td>
                                            <td><span class="badge badge-secondary">查看</span></td>
                                        </tr>
                                        <tr>
                                            <td><strong>报事管理</strong></td>
                                            <td><span class="badge badge-success">全部</span></td>
                                            <td><span class="badge badge-success">全部</span></td>
                                            <td><span class="badge badge-secondary">查看</span></td>
                                            <td><span class="badge badge-success">查看/编辑</span></td>
                                            <td><span class="badge badge-success">全部</span></td>
                                        </tr>
                                        <tr>
                                            <td><strong>微信管理</strong></td>
                                            <td><span class="badge badge-success">全部</span></td>
                                            <td><span class="badge badge-success">查看/编辑</span></td>
                                            <td><span class="badge badge-secondary">无</span></td>
                                            <td><span class="badge badge-secondary">查看</span></td>
                                            <td><span class="badge badge-secondary">无</span></td>
                                        </tr>
                                        <tr>
                                            <td><strong>支付管理</strong></td>
                                            <td><span class="badge badge-success">全部</span></td>
                                            <td><span class="badge badge-secondary">查看</span></td>
                                            <td><span class="badge badge-success">全部</span></td>
                                            <td><span class="badge badge-secondary">无</span></td>
                                            <td><span class="badge badge-secondary">无</span></td>
                                        </tr>
                                        <tr>
                                            <td><strong>账户管理</strong></td>
                                            <td><span class="badge badge-success">全部</span></td>
                                            <td><span class="badge badge-success">查看/创建</span></td>
                                            <td><span class="badge badge-secondary">无</span></td>
                                            <td><span class="badge badge-secondary">无</span></td>
                                            <td><span class="badge badge-secondary">无</span></td>
                                        </tr>
                                        <tr>
                                            <td><strong>系统设置</strong></td>
                                            <td><span class="badge badge-success">全部</span></td>
                                            <td><span class="badge badge-secondary">查看</span></td>
                                            <td><span class="badge badge-secondary">无</span></td>
                                            <td><span class="badge badge-secondary">无</span></td>
                                            <td><span class="badge badge-secondary">无</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div style="margin-top: 16px; padding: 12px; background: var(--warning-light); border-radius: 6px; font-size: 13px; color: var(--gray-700);">
                                <i class="ri-information-line" style="margin-right: 6px;"></i>
                                权限说明：<span class="badge badge-success">全部</span> = 查看/创建/编辑/删除/导出 | <span class="badge badge-success">查看/编辑</span> = 查看/编辑/导出 | <span class="badge badge-secondary">查看</span> = 仅查看 | <span class="badge badge-secondary">无</span> = 无权限
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button class="btn btn-primary" onclick="closePermissionMatrix()">关闭</button>
                        </div>
                    </div>
                </div>
            `
        };

        // 默认页面
        const mainContent = document.getElementById('main-content');
        mainContent.innerHTML = pages.dashboard;

        // 导航点击事件
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();

                // 移除所有active类
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));

                // 添加active类到当前项
                item.classList.add('active');

                // 获取页面名称并加载内容
                const pageName = item.getAttribute('data-page');
                if (pages[pageName]) {
                    mainContent.innerHTML = pages[pageName];
                }

                // 如果是小区管理页面，自动加载数据
                if (pageName === 'community' && window.CommunityCRUD) {
                    setTimeout(() => {
                        window.CommunityCRUD.refreshCommunityList();
                        window.CommunityCRUD.refreshBuildingList();
                    }, 100);
                }

                // 如果是支付管理页面，加载数据
                if (pageName === 'payment-management') {
                    setTimeout(() => {
                        loadPaymentConfigs();
                    }, 100);
                }

                // 如果是账户管理页面，加载数据
                if (pageName === 'account-management') {
                    setTimeout(() => {
                        loadAccounts();
                    }, 100);
                }

                // 更新面包屑
                const pageTitles = {
                    dashboard: '数据概览',
                    community: '小区管理',
                    property: '房产管理',
                    payment: '缴费管理',
                    maintenance: '报事管理',
                    wechat: '微信管理',
                    'payment-management': '支付管理',
                    'account-management': '账户管理',
                    users: '用户管理',
                    settings: '系统设置',
                    logs: '操作日志'
                };

                const breadcrumb = document.querySelector('.breadcrumb');
                breadcrumb.innerHTML = `
                    <span class="breadcrumb-item">首页</span>
                    <span class="breadcrumb-separator"><i class="ri-arrow-right-s-line"></i></span>
                    <span class="breadcrumb-item active">${pageTitles[pageName] || pageName}</span>
                `;
            });
        });

        // Tab切换功能
        window.switchTab = function(tabElement, tabName) {
            // 获取当前页面的所有tab按钮
            const container = tabElement.closest('.tabs');
            const tabs = container.querySelectorAll('.tab');

            // 移除所有active类
            tabs.forEach(tab => tab.classList.remove('active'));

            // 添加active类到当前tab
            tabElement.classList.add('active');

            // 隐藏所有tab内容
            const mainContent = document.getElementById('main-content');
            const tabContents = mainContent.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.style.display = 'none';
            });

            // 显示选中的tab内容
            const selectedTab = document.getElementById('tab-' + tabName);
            if (selectedTab) {
                selectedTab.style.display = 'block';
            }

            // 如果是小区管理页面的tab切换，刷新对应数据
            if (window.CommunityCRUD) {
                if (tabName === 'communities') {
                    window.CommunityCRUD.refreshCommunityList();
                } else if (tabName === 'buildings') {
                    window.CommunityCRUD.refreshBuildingList();
                }
            }
        };

        // ============================================
        // 支付管理相关函数
        // ============================================

        // API配置
        const API_BASE_URL = '/api';

        // 加载支付配置列表
        async function loadPaymentConfigs() {
            try {
                const response = await fetch(`${API_BASE_URL}/auth/payment-config/`);
                const data = await response.json();

                const tableBody = document.getElementById('paymentConfigTable');
                const filterValue = document.getElementById('paymentFilter').value;

                let filteredData = data;
                if (filterValue) {
                    filteredData = data.filter(item => item.account_type === filterValue);
                }

                if (filteredData.length === 0) {
                    tableBody.innerHTML = `
                        <tr>
                            <td colspan="8" style="text-align: center; padding: 40px; color: var(--gray-500);">
                                <i class="ri-inbox-line" style="font-size: 32px; display: block; margin-bottom: 12px;"></i>
                                暂无支付配置
                            </td>
                        </tr>
                    `;
                    return;
                }

                tableBody.innerHTML = filteredData.map(config => `
                    <tr>
                        <td><strong>${config.name}</strong></td>
                        <td>${config.account_type_display}</td>
                        <td>${config.mch_id || '-'}</td>
                        <td>${config.app_id}</td>
                        <td>${config.is_active ? '<span class="badge badge-success">已启用</span>' : '<span class="badge badge-secondary">已禁用</span>'}</td>
                        <td>${config.is_default ? '<span class="badge badge-primary">默认</span>' : '-'}</td>
                        <td>${new Date(config.created_at).toLocaleDateString('zh-CN')}</td>
                        <td>
                            <button class="btn btn-sm" onclick="editPaymentConfig('${config.id}')" title="编辑">
                                <i class="ri-edit-line"></i>
                            </button>
                            <button class="btn btn-sm" onclick="deletePaymentConfig('${config.id}')" title="删除" style="color: var(--error);">
                                <i class="ri-delete-bin-line"></i>
                            </button>
                        </td>
                    </tr>
                `).join('');
            } catch (error) {
                console.error('加载支付配置失败:', error);
                document.getElementById('paymentConfigTable').innerHTML = `
                    <tr>
                        <td colspan="8" style="text-align: center; padding: 40px; color: var(--error);">
                            <i class="ri-error-warning-line" style="font-size: 32px; display: block; margin-bottom: 12px;"></i>
                            加载失败，请重试
                        </td>
                    </tr>
                `;
            }
        }

        // 打开支付配置模态框
        function openPaymentModal(configId = null) {
            const modal = document.getElementById('paymentModal');
            const title = document.getElementById('paymentModalTitle');
            const form = document.getElementById('paymentConfigForm');

            form.reset();
            document.getElementById('paymentConfigId').value = '';

            if (configId) {
                title.textContent = '编辑支付配置';
                // 加载配置数据到表单
                // TODO: 实现编辑逻辑
            } else {
                title.textContent = '新增支付配置';
            }

            modal.style.display = 'block';
        }

        // 关闭支付配置模态框
        function closePaymentModal() {
            document.getElementById('paymentModal').style.display = 'none';
        }

        // 切换支付字段显示（个人/企业）
        function togglePaymentFields() {
            const accountType = document.getElementById('paymentAccountType').value;
            const enterpriseFields = document.querySelector('.enterprise-fields');

            if (accountType === 'enterprise') {
                enterpriseFields.style.display = 'block';
            } else {
                enterpriseFields.style.display = 'none';
            }
        }

        // 提交支付配置表单
        async function submitPaymentForm() {
            const form = document.getElementById('paymentConfigForm');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            const formData = {
                name: document.getElementById('paymentName').value,
                account_type: document.getElementById('paymentAccountType').value,
                app_id: document.getElementById('paymentAppId').value,
                app_secret: document.getElementById('paymentAppSecret').value,
                mch_id: document.getElementById('paymentMchId').value,
                api_key: document.getElementById('paymentApiKey').value,
                api_v3_key: document.getElementById('paymentApiV3Key').value,
                serial_no: document.getElementById('paymentSerialNo').value,
                cert_path: document.getElementById('paymentCertPath').value,
                key_path: document.getElementById('paymentKeyPath').value,
                notify_url: document.getElementById('paymentNotifyUrl').value,
                remarks: document.getElementById('paymentRemarks').value,
                is_active: document.getElementById('paymentIsActive').checked,
                is_default: document.getElementById('paymentIsDefault').checked
            };

            try {
                const configId = document.getElementById('paymentConfigId').value;
                const url = configId ? `${API_BASE_URL}/auth/payment-config/${configId}/` : `${API_BASE_URL}/auth/payment-config/`;
                const method = configId ? 'PUT' : 'POST';

                const response = await fetch(url, {
                    method: method,
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                });

                if (response.ok) {
                    closePaymentModal();
                    loadPaymentConfigs();
                    alert('保存成功！');
                } else {
                    const error = await response.json();
                    alert('保存失败：' + JSON.stringify(error));
                }
            } catch (error) {
                console.error('保存失败:', error);
                alert('保存失败，请重试');
            }
        }

        // 编辑支付配置
        async function editPaymentConfig(configId) {
            openPaymentModal(configId);
            // TODO: 加载配置数据
        }

        // 删除支付配置
        async function deletePaymentConfig(configId) {
            if (!confirm('确定要删除此支付配置吗？')) return;

            try {
                const response = await fetch(`${API_BASE_URL}/wechat-pay-config/${configId}/`, {
                    method: 'DELETE'
                });

                if (response.ok) {
                    loadPaymentConfigs();
                    alert('删除成功！');
                } else {
                    alert('删除失败');
                }
            } catch (error) {
                console.error('删除失败:', error);
                alert('删除失败，请重试');
            }
        }

        // 筛选支付配置
        function filterPaymentConfigs() {
            loadPaymentConfigs();
        }

        // 测试支付配置
        function testPaymentConfig() {
            alert('支付配置测试功能开发中...');
        }

        // ============================================
        // 账户管理相关函数
        // ============================================

        // 角色权限映射
        const ROLE_PERMISSIONS = {
            'super_admin': {
                name: '超级管理员',
                permissions: ['数据概览', '小区管理', '房产管理', '缴费管理', '报事管理', '微信管理', '支付管理', '账户管理', '系统设置', '操作日志']
            },
            'admin': {
                name: '管理员',
                permissions: ['数据概览', '小区管理', '房产管理', '缴费管理', '报事管理', '微信管理', '支付管理(查看)', '账户管理(查看/创建)', '系统设置(查看)']
            },
            'finance': {
                name: '财务',
                permissions: ['数据概览', '缴费管理', '支付管理']
            },
            'receptionist': {
                name: '前台',
                permissions: ['数据概览', '房产管理', '缴费管理', '报事管理', '微信管理(查看)']
            },
            'engineering': {
                name: '工程部',
                permissions: ['数据概览', '报事管理']
            }
        };

        // 加载账户列表
        async function loadAccounts() {
            try {
                const response = await fetch(`${API_BASE_URL}/auth/users/`);
                const data = await response.json();

                const tableBody = document.getElementById('accountTable');
                const roleFilter = document.getElementById('accountRoleFilter').value;
                const searchText = document.getElementById('accountSearchInput').value.toLowerCase();

                let filteredData = data.results || data;

                // 角色筛选（只显示管理角色）
                filteredData = filteredData.filter(user =>
                    ['super_admin', 'admin', 'finance', 'receptionist', 'engineering'].includes(user.role)
                );

                if (roleFilter) {
                    filteredData = filteredData.filter(item => item.role === roleFilter);
                }

                if (searchText) {
                    filteredData = filteredData.filter(item =>
                        item.username.toLowerCase().includes(searchText) ||
                        (item.first_name && item.first_name.toLowerCase().includes(searchText)) ||
                        (item.email && item.email.toLowerCase().includes(searchText))
                    );
                }

                if (filteredData.length === 0) {
                    tableBody.innerHTML = `
                        <tr>
                            <td colspan="8" style="text-align: center; padding: 40px; color: var(--gray-500);">
                                <i class="ri-inbox-line" style="font-size: 32px; display: block; margin-bottom: 12px;"></i>
                                暂无账号数据
                            </td>
                        </tr>
                    `;
                    return;
                }

                // 角色显示映射
                const roleDisplay = {
                    'super_admin': '超级管理员',
                    'admin': '管理员',
                    'finance': '财务',
                    'receptionist': '前台',
                    'engineering': '工程部'
                };

                // 角色颜色映射
                const roleBadgeClass = {
                    'super_admin': 'badge-primary',
                    'admin': 'badge-success',
                    'finance': 'badge-warning',
                    'receptionist': 'badge-info',
                    'engineering': 'badge-accent'
                };

                tableBody.innerHTML = filteredData.map(user => `
                    <tr>
                        <td><strong>${user.username}</strong></td>
                        <td>${user.first_name || '-'}</td>
                        <td><span class="badge ${roleBadgeClass[user.role] || 'badge-secondary'}">${roleDisplay[user.role] || user.role}</span></td>
                        <td>${user.phone || '-'}</td>
                        <td>${user.email || '-'}</td>
                        <td>${user.is_active ? '<span class="badge badge-success">已启用</span>' : '<span class="badge badge-secondary">已禁用</span>'}</td>
                        <td>${new Date(user.created_at).toLocaleDateString('zh-CN')}</td>
                        <td>
                            <button class="btn btn-sm" onclick="editAccount('${user.id}')" title="编辑">
                                <i class="ri-edit-line"></i>
                            </button>
                            <button class="btn btn-sm" onclick="resetPassword('${user.id}')" title="重置密码">
                                <i class="ri-lock-password-line"></i>
                            </button>
                            <button class="btn btn-sm" onclick="deleteAccount('${user.id}')" title="删除" style="color: var(--error);">
                                <i class="ri-delete-bin-line"></i>
                            </button>
                        </td>
                    </tr>
                `).join('');
            } catch (error) {
                console.error('加载账户列表失败:', error);
                document.getElementById('accountTable').innerHTML = `
                    <tr>
                        <td colspan="8" style="text-align: center; padding: 40px; color: var(--error);">
                            <i class="ri-error-warning-line" style="font-size: 32px; display: block; margin-bottom: 12px;"></i>
                            加载失败，请重试
                        </td>
                    </tr>
                `;
            }
        }

        // 打开账户模态框
        function openAccountModal(userId = null) {
            const modal = document.getElementById('accountModal');
            const title = document.getElementById('accountModalTitle');
            const form = document.getElementById('accountForm');

            form.reset();
            document.getElementById('accountId').value = '';

            // 显示密码字段
            document.getElementById('passwordFieldGroup').style.display = 'block';
            document.getElementById('passwordConfirmFieldGroup').style.display = 'block';

            if (userId) {
                title.textContent = '编辑账号';
                // 加载用户数据到表单
                editAccount(userId);
            } else {
                title.textContent = '新增账号';
            }

            modal.style.display = 'block';
        }

        // 关闭账户模态框
        function closeAccountModal() {
            document.getElementById('accountModal').style.display = 'none';
        }

        // 更新权限预览
        function updatePermissionPreview() {
            const role = document.getElementById('accountRole').value;
            const preview = document.getElementById('permissionPreview');
            const list = document.getElementById('permissionList');

            if (!role || !ROLE_PERMISSIONS[role]) {
                preview.style.display = 'none';
                return;
            }

            preview.style.display = 'block';
            const roleInfo = ROLE_PERMISSIONS[role];

            list.innerHTML = roleInfo.permissions.map(perm => `
                <div style="padding: 4px 0; border-bottom: 1px solid var(--gray-200);">
                    <i class="ri-check-line" style="color: var(--success); margin-right: 6px;"></i>${perm}
                </div>
            `).join('');
        }

        // 提交账户表单
        async function submitAccountForm() {
            const form = document.getElementById('accountForm');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            const password = document.getElementById('accountPassword').value;
            const passwordConfirm = document.getElementById('accountPasswordConfirm').value;

            if (password && password !== passwordConfirm) {
                alert('两次输入的密码不一致');
                return;
            }

            const formData = {
                username: document.getElementById('accountUsername').value,
                first_name: document.getElementById('accountFirstName').value,
                phone: document.getElementById('accountPhone').value,
                email: document.getElementById('accountEmail').value,
                role: document.getElementById('accountRole').value,
                is_active: document.getElementById('accountIsActive').checked
            };

            if (password) {
                formData.password = password;
            }

            try {
                const userId = document.getElementById('accountId').value;
                const url = userId ? `${API_BASE_URL}/auth/users/${userId}/` : `${API_BASE_URL}/auth/users/`;
                const method = userId ? 'PUT' : 'POST';

                const response = await fetch(url, {
                    method: method,
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                });

                if (response.ok) {
                    closeAccountModal();
                    loadAccounts();
                    alert('保存成功！');
                } else {
                    const error = await response.json();
                    alert('保存失败：' + JSON.stringify(error));
                }
            } catch (error) {
                console.error('保存失败:', error);
                alert('保存失败，请重试');
            }
        }

        // 编辑账户
        async function editAccount(userId) {
            try {
                const response = await fetch(`${API_BASE_URL}/users/${userId}/`);
                const user = await response.json();

                document.getElementById('accountId').value = user.id;
                document.getElementById('accountUsername').value = user.username;
                document.getElementById('accountFirstName').value = user.first_name || '';
                document.getElementById('accountPhone').value = user.phone || '';
                document.getElementById('accountEmail').value = user.email || '';
                document.getElementById('accountRole').value = user.role;
                document.getElementById('accountIsActive').checked = user.is_active;

                // 编辑时隐藏密码字段
                document.getElementById('passwordFieldGroup').style.display = 'none';
                document.getElementById('passwordConfirmFieldGroup').style.display = 'none';

                document.getElementById('accountModalTitle').textContent = '编辑账号';
                document.getElementById('accountModal').style.display = 'block';

                updatePermissionPreview();
            } catch (error) {
                console.error('加载用户数据失败:', error);
                alert('加载用户数据失败');
            }
        }

        // 重置密码
        async function resetPassword(userId) {
            const newPassword = prompt('请输入新密码：');
            if (!newPassword) return;

            if (newPassword.length < 6) {
                alert('密码长度至少6位');
                return;
            }

            try {
                const response = await fetch(`${API_BASE_URL}/auth/users/${userId}/`, {
                    method: 'PATCH',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ password: newPassword })
                });

                if (response.ok) {
                    alert('密码重置成功！');
                } else {
                    alert('密码重置失败');
                }
            } catch (error) {
                console.error('重置密码失败:', error);
                alert('重置密码失败，请重试');
            }
        }

        // 删除账户
        async function deleteAccount(userId) {
            if (!confirm('确定要删除此账号吗？删除后无法恢复！')) return;

            try {
                const response = await fetch(`${API_BASE_URL}/auth/users/${userId}/`, {
                    method: 'DELETE'
                });

                if (response.ok) {
                    loadAccounts();
                    alert('删除成功！');
                } else {
                    alert('删除失败');
                }
            } catch (error) {
                console.error('删除失败:', error);
                alert('删除失败，请重试');
            }
        }

        // 筛选账户
        function filterAccounts() {
            loadAccounts();
        }

        // 搜索账户
        function searchAccounts() {
            loadAccounts();
        }

        // 显示权限矩阵
        function showPermissionMatrix() {
            document.getElementById('permissionMatrixModal').style.display = 'block';
        }

        // 关闭权限矩阵
        function closePermissionMatrix() {
            document.getElementById('permissionMatrixModal').style.display = 'none';
        }

        // ============================================
        // 页面加载时初始化
        // ============================================

        // 将函数添加到全局作用域
        window.loadPaymentConfigs = loadPaymentConfigs;
        window.loadAccounts = loadAccounts;

        document.addEventListener('DOMContentLoaded', function() {
            // 检查当前页面并加载对应数据
            const currentPage = window.location.hash.slice(1) || 'dashboard';
            if (currentPage === 'payment-management') {
                loadPaymentConfigs();
            } else if (currentPage === 'account-management') {
                loadAccounts();
            }
        });
    </script>
</body>
</html>
